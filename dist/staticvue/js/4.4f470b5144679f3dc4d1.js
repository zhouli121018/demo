webpackJsonp([4],{BRES:function(e,t,a){"use strict";(function(e){var l=a("aA9S"),n=a.n(l),o=a("P9l9");t.a={data:function(){return{taglist:[],flag_list:[{id:"\\flagged",text:this.$parent.lan.MAILBOX_COM_INNERBOX_RED_FLAG,classN:"iconfont icon-iconflatcolor redcolor"},{id:"umail-green",text:this.$parent.lan.MAILBOX_COM_INNERBOX_GREEN_FLAG,classN:"flag-green"},{id:"umail-orange",text:this.$parent.lan.MAILBOX_COM_INNERBOX_ORANGE_FLAG,classN:"flag-orange"},{id:"umail-blue",text:this.$parent.lan.MAILBOX_COM_INNERBOX_BLUE_FLAG,classN:"flag-blue"},{id:"umail-pink",text:this.$parent.lan.MAILBOX_COM_INNERBOX_PINK_FLAG,classN:"flag-pink"},{id:"umail-cyan",text:this.$parent.lan.MAILBOX_COM_INNERBOX_CYAN_FLAG,classN:"flag-cyan"},{id:"umail-yellow",text:this.$parent.lan.MAILBOX_COM_INNERBOX_YELLOW_FLAG,classN:"flag-yellow"},{id:"umail-purple",text:this.$parent.lan.MAILBOX_COM_INNERBOX_PURPLE_FLAG,classN:"flag-purple"},{id:"umail-gray",text:this.$parent.lan.MAILBOX_COM_INNERBOX_GREY_FLAG,classN:"flag-gray"}],filter_folders:[],plang:this.$parent.lan,selss:[],activeAction:["action_panel"],activeNames:[],activeNames_create:["create_0"],deptOptions:[],total:0,page:1,page_size:10,listLoading:!1,sels:[],listTables:[],createFormVisible:!1,createFormLoading:!1,createForm:{name:"",content:"",sequence:999,disabled:-1,logic:"all",conditions:[{id:0,action:"contains",logic:"all",option:"extra",parent_id:0,rule:1,suboption:"subject",value:"",children:[]}],actions:[{id:0,action:"forward",sequence:999,json_value:{value:""}}]},createFormRules:{name:[{required:!0,message:this.$parent.lan.SETTING_FILTER_NAME_RULE,trigger:"blur"}]},updateFormVisible:!1,updateFormLoading:!1,updateForm:{name:"",content:"",sequence:999,disabled:-1,logic:"all",conditions:[],actions:[]},updateFormRules:{name:[{required:!0,message:this.$parent.lan.SETTING_FILTER_NAME_RULE,trigger:"blur"}]}}},created:function(){this.getTables(),this.getDeptOptions()},methods:{batchDisabled:function(){var e=this;this.$confirm(this.$parent.lan.BATCH_DISABLED_DESC,this.$parent.lan.COMMON_BUTTON_CONFIRM_NOTICE,{confirmButtonText:this.$parent.lan.COMMON_BUTTON_CONFIRM,cancelButtonText:this.$parent.lan.COMMON_BUTTON_CANCELL,dangerouslyUseHTMLString:!0}).then(function(){Object(o._24)({ids:e.sels.map(function(e){return e.id})}).then(function(t){e.$message({type:"success",message:e.$parent.lan.COMMON_OPRATE_SUCCESS}),e.getTables()}).catch(function(e){})}).catch(function(){})},batchEnable:function(){var e=this;this.$confirm(this.$parent.lan.BATCH_ENABLE_DESC,this.$parent.lan.COMMON_BUTTON_CONFIRM_NOTICE,{confirmButtonText:this.$parent.lan.COMMON_BUTTON_CONFIRM,cancelButtonText:this.$parent.lan.COMMON_BUTTON_CANCELL,dangerouslyUseHTMLString:!0}).then(function(){Object(o._25)({ids:e.sels.map(function(e){return e.id})}).then(function(t){e.$message({type:"success",message:e.$parent.lan.COMMON_OPRATE_SUCCESS}),e.getTables()}).catch(function(e){})}).catch(function(){})},deleteSelected:function(){var e=this;this.$confirm(this.$parent.lan.BDELETE_RE_DES,this.$parent.lan.COMMON_BUTTON_CONFIRM_NOTICE,{confirmButtonText:this.$parent.lan.COMMON_BUTTON_CONFIRM,cancelButtonText:this.$parent.lan.COMMON_BUTTON_CANCELL,dangerouslyUseHTMLString:!0}).then(function(){Object(o._23)({ids:e.sels.map(function(e){return e.id})}).then(function(t){e.$message({type:"success",message:e.$parent.lan.COMMON_OPRATE_SUCCESS}),e.getTables()}).catch(function(e){})}).catch(function(){})},showDeptChoice_update:function(t,a){e("#dept_update_"+a).click()},showDeptChoice:function(t,a){e("#dept_choice_"+a).click()},deptChange:function(e,t){var a=this.$refs["dept_choice_"+t][0].currentValue,l=this.$refs["dept_choice_"+t][0].currentLabels;e.value=a[a.length-1],e.value2=l[l.length-1]},change_action:function(e){e.json_value.value=""},changeOption:function(e){e.action="",e.value=""},f_TableSelsChange:function(e){this.sels=e},f_TableSizeChange:function(e){this.page_size=e,this.getTables()},f_TableCurrentChange:function(e){this.page=e,this.getTables()},getTables:function(){var e=this;this.listLoading=!0;var t={page:this.page,page_size:this.page_size};Object(o._148)(t).then(function(t){e.total=t.data.count,e.listTables=t.data.results,e.listLoading=!1}).catch(function(){e.listLoading=!1})},confirmation:function(e){if(!e.sequence)return this.$message({message:this.plang.SETTING_FILTER_RULE1,type:"error"}),!1;for(var t=0;t<e.conditions.length;t++){var a=e.conditions[t];if("all_mail"!=a.suboption&&"has_attach"!=a.suboption&&!a.action)return this.$message({message:this.plang.SETTING_RE_ADD_RULE_2,type:"error"}),!1;if("all_mail"!=a.suboption&&"has_attach"!=a.suboption&&0!==a.value&&!a.value)return this.$message({message:this.plang.SETTING_RE_ADD_RULE_3,type:"error"}),!1;if(a.children&&a.children.length>0)for(var l=0;l<a.children.length;l++){var n=a.children[l];if("all_mail"!=n.suboption&&"has_attach"!=n.suboption&&!n.action)return this.$message({message:this.plang.SETTING_RE_ADD_RULE_2,type:"error"}),!1;if("all_mail"!=n.suboption&&"has_attach"!=n.suboption&&0!==n.value&&!n.value)return this.$message({message:this.plang.SETTING_RE_ADD_RULE_3,type:"error"}),!1}}for(var o=0;o<e.actions.length;o++){var i=e.actions[o];if("sequester"!=i.action&&"delete"!=i.action&&!i.json_value.value)return this.$message({message:this.plang.SETTING_FILTER_RULE2,type:"error"}),!1;if(!i.sequence)return this.$message({message:this.plang.SETTING_FILTER_RULE3,type:"error"}),!1}return!0},createFormSubmit:function(){var e=this;this.$refs.createForm.validate(function(t){if(t){if(!e.confirmation(e.createForm))return;e.createFormLoading=!0;var a=n()({},e.createForm);Object(o._146)(a).then(function(t){e.$refs.createForm.resetFields(),e.createFormLoading=!1,e.createFormVisible=!1,e.$message({message:e.plang.COMMON_SUBMIT_SUCCESS,type:"success"}),e.getTables()}).catch(function(t){"limited_error_message"in t&&(e.$message.error(t.limited_error_message),e.$refs.createForm.resetFields()),e.createFormLoading=!1})}})},addAction:function(e){this.updateForm.actions.push({action:"forward",sequence:999,json_value:{value:""}})},deleteAction:function(e){this.updateForm.actions.splice(e,1)},addCondition:function(){this.updateForm.conditions.push({action:"contains",logic:"all",parent_id:0,suboption:"subject",value:"",children:[]}),this.getActiveNames()},deleteCondition:function(e){this.updateForm.conditions.splice(e,1),this.getActiveNames()},deleteSubCondition:function(e,t){this.updateForm.conditions[e].children.splice(t,1)},addSubCondition:function(e,t){var a={action:"contains",logic:"all",parent_id:e,suboption:"subject",value:""};this.updateForm.conditions[t].children.push(a)},getDeptOptions:function(){var e=this;Object(o.F)().then(function(t){e.deptOptions=t.data.results,e.deptOptions=function e(t){for(var a=0;a<t.length;a++)t[a].value=t[a].id,t[a].children&&0==t[a].children.length&&(t[a].children=null),t[a].children&&t[a].children.length>0&&e(t[a].children);return t}(e.deptOptions)},function(e){})},addAction_create:function(e){this.createForm.actions.push({action:"forward",sequence:999,json_value:{value:""}})},deleteAction_create:function(e){this.createForm.actions.splice(e,1)},addCondition_create:function(){this.createForm.conditions.push({action:"contains",logic:"all",parent_id:0,suboption:"subject",value:"",children:[]}),this.getActiveNames_create()},deleteCondition_create:function(e){this.createForm.conditions.splice(e,1),this.getActiveNames_create()},deleteSubCondition_create:function(e,t){this.createForm.conditions[e].children.splice(t,1)},addSubCondition_create:function(e,t){var a={action:"contains",logic:"all",parent_id:e,suboption:"subject",value:""};this.createForm.conditions[t].children.push(a)},createFormShow:function(){var e=this;this.createForm=n()({},this.createForm),Object(o._28)().then(function(t){e.filter_folders=t.data,Object(o._46)().then(function(t){e.taglist=t.data.results,e.createFormVisible=!0}).catch(function(e){})}).catch(function(e){})},updateFormSubmit:function(){var e=this;this.$refs.updateForm.validate(function(t){if(t){if(!e.confirmation(e.updateForm))return;e.updateFormLoading=!0;var a=n()({},e.updateForm);Object(o._150)(a.id,a).then(function(t){e.$refs.updateForm.resetFields(),e.updateFormLoading=!1,e.updateFormVisible=!1,e.$message({message:e.plang.COMMON_SUBMIT_SUCCESS,type:"success"}),e.getTables()}).catch(function(t){e.updateFormLoading=!1})}})},updateFormShow:function(e,t){var a=this;this.updateFormLoading=!0,Object(o._28)().then(function(e){a.filter_folders=e.data,Object(o._46)().then(function(e){a.taglist=e.data.results,Object(o._149)(t.id).then(function(e){for(var t=e.data.conditions,l={},o=0;o<t.length;o++)0==t[o].parent_id&&(l[t[o].id]=t[o],l[t[o].id].children=[],t.splice(o,1),o--);for(var i=0;i<t.length;i++){var s=t[i];for(var c in l)s.parent_id==c&&(l[c].children.push(s),t.splice(i,1),i--)}for(var c in l)t.push(l[c]);e.data.actions&&e.data.actions.length>0&&e.data.actions.forEach(function(e){if("tag"==e.action){for(var t=0,l=0;l<a.taglist.length&&a.taglist[l].tagname!=e.json_value.value;l++)t++;t>=a.taglist.length&&(e.json_value.value="")}if("move_to"==e.action||"copy_to"==e.action){for(var n=0,o=0;o<a.filter_folders.length&&a.filter_folders[o].raw_name!=e.json_value.value;o++)n++;n>=a.filter_folders.length&&(e.json_value.value="")}}),a.updateForm=n()({},e.data),a.updateFormVisible=!0,a.updateFormLoading=!1,a.getActiveNames()}).catch(function(e){a.updateFormLoading=!1})}).catch(function(e){})}).catch(function(e){a.updateFormLoading=!1})},getActiveNames:function(){for(var e=[],t=0;t<this.updateForm.conditions.length;t++)e.push(t);this.activeNames=e},getActiveNames_create:function(){for(var e=[],t=0;t<this.createForm.conditions.length;t++)e.push("create_"+t);this.activeNames_create=e},deleteRow:function(e,t){var a=this,l=this;this.$confirm(this.plang.COMMON_BUTTON_DELETE_SUBMIT,this.plang.COMMON_BUTTON_CONFIRM_NOTICE,{type:"warning"}).then(function(){Object(o._147)(t.id).then(function(e){l.$message({message:a.plang.COMMON_DELETE_SUCCESS,type:"success"}),(a.page-1)*a.page_size>=a.total-1&&(a.page=1),a.getTables()}).catch(function(e){})})}},computed:{uploadJson:function(){return this.$store.state.uploadJson}}}}).call(t,a("qqHy"))},IklQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BRES"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"j-module-content j-maillist mllist-list height100 "},[a("el-row",{staticStyle:{padding:"0px"}},[a("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v(e._s(e.plang.COMMON_HOME_NAME))]),e._v(" "),a("el-breadcrumb-item",[a("a",{attrs:{href:"#"}},[e._v(e._s(e.plang.SETTING_INDEX_NAME))])]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.plang.SETTING_INDEX_FILTER_MENU))])],1)],1)],1),e._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"content content-list height100",staticStyle:{"padding-bottom":"13px"}},[a("el-row",{staticClass:"toolbar"},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.createFormShow}},[e._v(e._s(e.plang.COMMON_BUTTON_ADD))]),e._v(" "),a("el-button",{attrs:{type:"warning",disabled:0===e.sels.length,size:"mini"},on:{click:e.batchDisabled}},[e._v(e._s(e.plang.BATCH_DISABLED))]),e._v(" "),a("el-button",{attrs:{type:"success",disabled:0===e.sels.length,size:"mini"},on:{click:e.batchEnable}},[e._v(e._s(e.plang.BATCH_ENABLE))]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:0===e.sels.length,size:"mini"},on:{click:e.deleteSelected}},[e._v(e._s(e.plang.CONTACT_PAB_BDEL))])],1),e._v(" "),e.total>0?a("el-col",{staticStyle:{"text-align":"right","line-height":"28px"},attrs:{span:12}},[e.total>0?a("el-pagination",{staticStyle:{display:"inline-block"},attrs:{layout:"total, sizes, prev ","page-sizes":[10,20,50,100],"current-page":e.page,"page-size":e.page_size,total:e.total},on:{"size-change":e.f_TableSizeChange,"current-change":e.f_TableCurrentChange}}):e._e(),e._v(" "),a("span",[e._v(e._s(this.page+" / "+Math.ceil(this.total/this.page_size)))]),e._v(" "),e.total>0?a("el-pagination",{staticStyle:{display:"inline-block"},attrs:{layout:" next, jumper","page-sizes":[10,20,50,100],"current-page":e.page,"page-size":e.page_size,total:e.total},on:{"size-change":e.f_TableSizeChange,"current-change":e.f_TableCurrentChange}}):e._e()],1):e._e()],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","max-width":"100%"},attrs:{data:e.listTables,"highlight-current-row":"",width:"100%",size:"mini",border:""},on:{"selection-change":e.f_TableSelsChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"No.",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:e.plang.SETTING_FILTER_NAME}}),e._v(" "),a("el-table-column",{attrs:{prop:"logic_display",label:e.plang.SETTING_RE_LOGIC}}),e._v(" "),a("el-table-column",{attrs:{prop:"sequence",label:e.plang.SETTING_FILTER_PRIORITY}}),e._v(" "),a("el-table-column",{attrs:{label:e.plang.COMMON_STATUS},scopedSlots:e._u([{key:"default",fn:function(t){return[-1==t.row.disabled?a("i",{staticClass:"el-alert--success el-alert__icon el-icon-success"}):e._e(),e._v(" "),1==t.row.disabled?a("i",{staticClass:"el-alert--error el-alert__icon el-icon-error"}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.plang.COMMON_OPRATE},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return e.updateFormShow(t.$index,t.row)}}},[e._v(e._s(e.plang.COMMON_BUTTON_ALTER))]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteRow(t.$index,t.row)}}},[e._v(e._s(e.plang.COMMON_BUTTON_DELETE))])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}}),e._v(" "),a("el-dialog",{attrs:{title:e.plang.COMMON_BUTTON_ADD,visible:e.createFormVisible,"close-on-click-modal":!1,"append-to-body":!0,width:"75%",top:"10vh"},on:{"update:visible":function(t){e.createFormVisible=t}}},[a("el-form",{ref:"createForm",attrs:{model:e.createForm,"label-width":"100px",rules:e.createFormRules,size:"small"}},[a("el-form-item",{attrs:{label:e.plang.SETTING_FILTER_NAME,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.createForm.name,callback:function(t){e.$set(e.createForm,"name","string"==typeof t?t.trim():t)},expression:"createForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.SETTING_FILTER_PRIORITY,prop:"sequence"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.createForm.sequence,callback:function(t){e.$set(e.createForm,"sequence",e._n(t))},expression:"createForm.sequence"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.COMMON_STATUS,prop:"disabled"}},[a("el-radio-group",{model:{value:e.createForm.disabled,callback:function(t){e.$set(e.createForm,"disabled",t)},expression:"createForm.disabled"}},[a("el-radio",{attrs:{label:-1}},[e._v(e._s(e.plang.COMMON_STATUS_ENABLE))]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.plang.COMMON_STATUS_DISABLE))])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.SETTING_RE_ADD_LOGICP,prop:"logic"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-radio-group",{model:{value:e.createForm.logic,callback:function(t){e.$set(e.createForm,"logic",t)},expression:"createForm.logic"}},[a("el-radio",{attrs:{label:"all"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ALL))]),e._v(" "),a("el-radio",{attrs:{label:"one"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ONE))])],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{attrs:{type:"success"},on:{click:e.addCondition_create}},[e._v(e._s(e.plang.SETTING_RE_ADD_LOGICP_BUTTON))])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-collapse",{model:{value:e.activeNames_create,callback:function(t){e.activeNames_create=t},expression:"activeNames_create"}},e._l(e.createForm.conditions,function(t,l){return a("el-collapse-item",{key:t.id,attrs:{name:"create_"+l}},[a("template",{slot:"title"},[e._v(e._s(e.plang.SETTING_RE_LOGICS))]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"4px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.plang.SETTING_RE_ADD_LOGICC,prop:"logic"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-radio-group",{model:{value:t.logic,callback:function(a){e.$set(t,"logic",a)},expression:"c.logic"}},[a("el-radio",{attrs:{label:"all"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ALL))]),e._v(" "),a("el-radio",{attrs:{label:"one"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ONE))])],1)],1),e._v(" "),0!=l?a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.deleteCondition_create(l)}}})],1):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},on:{change:function(a){return e.changeOption(t)}},model:{value:t.suboption,callback:function(a){e.$set(t,"suboption",a)},expression:"c.suboption"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ALLMAIL,value:"all_mail"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_HASATTACH,value:"has_attach"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ATTACH,value:"attachments"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER,value:"sender"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC,value:"cc"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RECIPIENT,value:"recipient"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER_DEPART,value:"sender_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC_DEPART,value:"cc_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RCPT_DEPART,value:"rcpt_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.COMMON_SUBJECT2,value:"subject"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CONTENT,value:"body"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEMB,value:"mail_size"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEB,value:"mail_size2"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZECB,value:"content_size"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption||"header_received"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"c.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_C,value:"contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NC,value:"not_contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_E,value:"=="}})],1):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"c.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_GE,value:">="}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_LE,value:"<="}})],1):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"c.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_B,value:"in"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NB,value:"not_in"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:10}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_CONTENT_RULE},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"c.value"}}):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",type:"number"},model:{value:t.value,callback:function(a){e.$set(t,"value",e._n(a))},expression:"c.value"}}):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-row",[a("el-col",{staticStyle:{position:"relative"},attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_SELECTDPT,title:e.plang.SETTING_RE_ADD_SELECTDPT,readonly:""},nativeOn:{click:function(a){return e.showDeptChoice(t,l)}},model:{value:t.value2,callback:function(a){e.$set(t,"value2",a)},expression:"c.value2"}}),e._v(" "),a("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"c.value"}}),e._v(" "),a("el-cascader",{ref:"dept_choice_"+l,refInFor:!0,staticStyle:{position:"absolute",width:"100%",top:"0","z-index":"-10"},attrs:{clearable:!0,placeholder:e.plang.SETTING_RE_ADD_SELECTDPT_PLACE,"change-on-select":"","show-all-levels":!1,"expand-trigger":"click",options:e.deptOptions,id:"dept_choice_"+l},on:{change:function(a){return e.deptChange(t,l)}}})],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(a){return e.addSubCondition_create(t.id,l)}}})],1)],1),e._v(" "),e._l(t.children,function(t,n){return a("el-row",{key:n,staticStyle:{"margin-bottom":"4px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},on:{change:function(a){return e.changeOption(t)}},model:{value:t.suboption,callback:function(a){e.$set(t,"suboption",a)},expression:"cc.suboption"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ALLMAIL,value:"all_mail"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_HASATTACH,value:"has_attach"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ATTACH,value:"attachments"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER,value:"sender"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC,value:"cc"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RECIPIENT,value:"recipient"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER_DEPART,value:"sender_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC_DEPART,value:"cc_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RCPT_DEPART,value:"rcpt_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.COMMON_SUBJECT2,value:"subject"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CONTENT,value:"body"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEMB,value:"mail_size"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEB,value:"mail_size2"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZECB,value:"content_size"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption||"header_received"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"cc.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_C,value:"contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NC,value:"not_contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_E,value:"=="}})],1):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"cc.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_GE,value:">="}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_LE,value:"<="}})],1):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"cc.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_B,value:"in"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NB,value:"not_in"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:10}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_CONTENT_RULE},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"cc.value"}}):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",type:"number"},model:{value:t.value,callback:function(a){e.$set(t,"value",e._n(a))},expression:"cc.value"}}):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-row",[a("el-col",{staticStyle:{position:"relative"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_SELECTDPT,title:e.plang.SETTING_RE_ADD_SELECTDPT,readonly:""},nativeOn:{click:function(a){return e.showDeptChoice(t,l+"_"+n)}},model:{value:t.value2,callback:function(a){e.$set(t,"value2",a)},expression:"cc.value2"}}),e._v(" "),a("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"cc.value"}}),e._v(" "),a("el-cascader",{ref:"dept_choice_"+l+"_"+n,refInFor:!0,staticStyle:{position:"absolute",width:"100%",top:"0","z-index":"-10"},attrs:{clearable:!0,placeholder:e.plang.SETTING_RE_ADD_SELECTDPT_PLACE,"change-on-select":"","show-all-levels":!1,"expand-trigger":"click",options:e.deptOptions,id:"dept_choice_"+l+"_"+n},on:{change:function(a){return e.deptChange(t,l+"_"+n)}}})],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"warning"},on:{click:function(t){return e.deleteSubCondition_create(l,n)}}})],1)],1)})],2)}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.SETTING_FILTER_ACTION}},[a("el-collapse",{attrs:{value:"create_action_panel"}},[a("el-collapse-item",{attrs:{name:"create_action_panel"}},[a("template",{slot:"title"},[e._v(e._s(e.plang.SETTING_FILTER_ACTION))]),e._v(" "),e._l(e.createForm.actions,function(t,l){return a("el-row",{key:l,staticStyle:{"margin-bottom":"4px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},on:{change:function(a){return e.change_action(t)}},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"a.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION1,value:"delete"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION2,value:"sequester"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION3,value:"move_to"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION4,value:"copy_to"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION5,value:"forward"}}),e._v(" "),a("el-option",{attrs:{label:"标记旗帜",value:"flag"}}),e._v(" "),a("el-option",{attrs:{label:"标记标签",value:"tag"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},["move_to"==t.action||"copy_to"==t.action?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}},e._l(e.filter_folders,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.raw_name}})}),1):e._e(),e._v(" "),"flag"==t.action?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}},e._l(e.flag_list,function(t,l){return a("el-option",{key:l,attrs:{label:t.text,value:t.id}},[a("i",{staticClass:"iconfont icon-iconflatcolor",class:t.classN}),e._v(" "),a("span",[e._v(e._s(t.text))])])}),1):e._e(),e._v(" "),"tag"==t.action?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}},e._l(e.taglist,function(t,l){return a("el-option",{key:l,attrs:{label:t.name,value:t.tagname}},[a("i",{staticStyle:{display:"inline-block",width:"15px",height:"15px"},style:{background:t.color}}),e._v(" "),a("span",[e._v(e._s(t.name))])])}),1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},["forward"==t.action?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_FW_FORWARD_DESC},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}}):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:e.plang.SETTING_FILTER_PRIORITY_RULE},model:{value:t.sequence,callback:function(a){e.$set(t,"sequence",a)},expression:"a.sequence"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[0==l?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.addAction_create(l)}}}):e._e(),e._v(" "),l>0?a("el-button",{attrs:{icon:"el-icon-delete",type:"warning"},on:{click:function(t){return e.deleteAction_create(l)}}}):e._e()],1)],1)})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.createFormVisible=!1}}},[e._v(e._s(e.plang.COMMON_BUTTON_CANCELL))]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.createFormLoading},nativeOn:{click:function(t){return e.createFormSubmit()}}},[e._v(e._s(e.plang.COMMON_BUTTON_SUBMIT))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.plang.COMMON_BUTTON_ALTER,visible:e.updateFormVisible,"close-on-click-modal":!1,"append-to-body":!0,width:"75%",top:"10vh"},on:{"update:visible":function(t){e.updateFormVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,"label-width":"100px",rules:e.updateFormRules,size:"small"}},[a("el-form-item",{attrs:{label:e.plang.SETTING_FILTER_NAME,prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name","string"==typeof t?t.trim():t)},expression:"updateForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.SETTING_FILTER_PRIORITY,prop:"sequence"}},[a("el-input",{attrs:{"auto-complete":"off",type:"number"},model:{value:e.updateForm.sequence,callback:function(t){e.$set(e.updateForm,"sequence",e._n(t))},expression:"updateForm.sequence"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.COMMON_STATUS,prop:"disabled"}},[a("el-radio-group",{model:{value:e.updateForm.disabled,callback:function(t){e.$set(e.updateForm,"disabled",t)},expression:"updateForm.disabled"}},[a("el-radio",{attrs:{label:-1}},[e._v(e._s(e.plang.COMMON_STATUS_ENABLE))]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.plang.COMMON_STATUS_DISABLE))])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.SETTING_RE_ADD_LOGICP,prop:"logic"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-radio-group",{model:{value:e.updateForm.logic,callback:function(t){e.$set(e.updateForm,"logic",t)},expression:"updateForm.logic"}},[a("el-radio",{attrs:{label:"all"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ALL))]),e._v(" "),a("el-radio",{attrs:{label:"one"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ONE))])],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{attrs:{type:"success"},on:{click:e.addCondition}},[e._v(e._s(e.plang.SETTING_RE_ADD_LOGICP_BUTTON))])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.updateForm.conditions,function(t,l){return a("el-collapse-item",{key:t.id,attrs:{name:l}},[a("template",{slot:"title"},[e._v(e._s(e.plang.SETTING_RE_LOGICS))]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"4px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.plang.SETTING_RE_ADD_LOGICC,prop:"logic"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-radio-group",{model:{value:t.logic,callback:function(a){e.$set(t,"logic",a)},expression:"c.logic"}},[a("el-radio",{attrs:{label:"all"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ALL))]),e._v(" "),a("el-radio",{attrs:{label:"one"}},[e._v(e._s(e.plang.SETTING_RE_LOGIC_ONE))])],1)],1),e._v(" "),0!=l?a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.deleteCondition(l)}}})],1):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},on:{change:function(a){return e.changeOption(t)}},model:{value:t.suboption,callback:function(a){e.$set(t,"suboption",a)},expression:"c.suboption"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ALLMAIL,value:"all_mail"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_HASATTACH,value:"has_attach"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ATTACH,value:"attachments"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER,value:"sender"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC,value:"cc"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RECIPIENT,value:"recipient"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER_DEPART,value:"sender_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC_DEPART,value:"cc_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RCPT_DEPART,value:"rcpt_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.COMMON_SUBJECT2,value:"subject"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CONTENT,value:"body"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEMB,value:"mail_size"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEB,value:"mail_size2"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZECB,value:"content_size"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption||"header_received"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"c.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_C,value:"contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NC,value:"not_contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_E,value:"=="}})],1):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"c.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_GE,value:">="}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_LE,value:"<="}})],1):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"c.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_B,value:"in"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NB,value:"not_in"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:10}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_CONTENT_RULE},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"c.value"}}):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",type:"number"},model:{value:t.value,callback:function(a){e.$set(t,"value",e._n(a))},expression:"c.value"}}):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-row",[a("el-col",{staticStyle:{position:"relative"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_SELECTDPT,title:e.plang.SETTING_RE_ADD_SELECTDPT,readonly:""},nativeOn:{click:function(a){return e.showDeptChoice_update(t,l)}},model:{value:t.value2,callback:function(a){e.$set(t,"value2",a)},expression:"c.value2"}}),e._v(" "),a("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"c.value"}}),e._v(" "),a("el-cascader",{ref:"dept_choice_"+l,refInFor:!0,staticStyle:{position:"absolute",width:"100%",top:"0","z-index":"-10"},attrs:{clearable:!0,placeholder:e.plang.SETTING_RE_ADD_SELECTDPT_PLACE,"change-on-select":"","show-all-levels":!1,"expand-trigger":"click",options:e.deptOptions,id:"dept_update_"+l},on:{change:function(a){return e.deptChange(t,l)}}})],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(a){return e.addSubCondition(t.id,l)}}})],1)],1),e._v(" "),e._l(t.children,function(t,n){return a("el-row",{key:n,staticStyle:{"margin-bottom":"4px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},on:{change:function(a){return e.changeOption(t)}},model:{value:t.suboption,callback:function(a){e.$set(t,"suboption",a)},expression:"cc.suboption"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ALLMAIL,value:"all_mail"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_HASATTACH,value:"has_attach"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_ATTACH,value:"attachments"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER,value:"sender"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC,value:"cc"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RECIPIENT,value:"recipient"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SENDER_DEPART,value:"sender_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CC_DEPART,value:"cc_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_RCPT_DEPART,value:"rcpt_dept"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.COMMON_SUBJECT2,value:"subject"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_CONTENT,value:"body"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEMB,value:"mail_size"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZEB,value:"mail_size2"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_LOGIC_SIZECB,value:"content_size"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption||"header_received"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"cc.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_C,value:"contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NC,value:"not_contains"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_E,value:"=="}})],1):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"cc.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_GE,value:">="}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_LE,value:"<="}})],1):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.action,callback:function(a){e.$set(t,"action",e._n(a))},expression:"cc.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_B,value:"in"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_RE_SUBLOGIC_NB,value:"not_in"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:10}},["attachments"==t.suboption||"sender"==t.suboption||"cc"==t.suboption||"recipient"==t.suboption||"subject"==t.suboption||"body"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_CONTENT_RULE},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"cc.value"}}):e._e(),e._v(" "),"mail_size"==t.suboption||"mail_size2"==t.suboption||"content_size"==t.suboption?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"",type:"number"},model:{value:t.value,callback:function(a){e.$set(t,"value",e._n(a))},expression:"cc.value"}}):e._e(),e._v(" "),"sender_dept"==t.suboption||"cc_dept"==t.suboption||"rcpt_dept"==t.suboption?a("el-row",[a("el-col",{staticStyle:{position:"relative"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_SELECTDPT,title:e.plang.SETTING_RE_ADD_SELECTDPT,readonly:""},nativeOn:{click:function(a){return e.showDeptChoice_update(t,l+"_"+n)}},model:{value:t.value2,callback:function(a){e.$set(t,"value2",a)},expression:"cc.value2"}}),e._v(" "),a("el-input",{staticStyle:{display:"none"},attrs:{type:"hidden"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"cc.value"}}),e._v(" "),a("el-cascader",{ref:"dept_choice_"+l+"_"+n,refInFor:!0,staticStyle:{position:"absolute",width:"100%",top:"0","z-index":"-10"},attrs:{clearable:!0,placeholder:e.plang.SETTING_RE_ADD_SELECTDPT_PLACE,"change-on-select":"","show-all-levels":!1,"expand-trigger":"click",options:e.deptOptions,id:"dept_update_"+l+"_"+n},on:{change:function(a){return e.deptChange(t,l+"_"+n)}}})],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"warning"},on:{click:function(t){return e.deleteSubCondition(l,n)}}})],1)],1)})],2)}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.plang.SETTING_FILTER_ACTION}},[a("el-collapse",{model:{value:e.activeAction,callback:function(t){e.activeAction=t},expression:"activeAction"}},[a("el-collapse-item",{attrs:{name:"action_panel"}},[a("template",{slot:"title"},[e._v(e._s(e.plang.SETTING_FILTER_ACTION))]),e._v(" "),e._l(e.updateForm.actions,function(t,l){return a("el-row",{key:l,staticStyle:{"margin-bottom":"4px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},on:{change:function(a){return e.change_action(t)}},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"a.action"}},[a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION1,value:"delete"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION2,value:"sequester"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION3,value:"move_to"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION4,value:"copy_to"}}),e._v(" "),a("el-option",{attrs:{label:e.plang.SETTING_FILTER_ACTION5,value:"forward"}}),e._v(" "),a("el-option",{attrs:{label:"标记旗帜",value:"flag"}}),e._v(" "),a("el-option",{attrs:{label:"标记标签",value:"tag"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},["move_to"==t.action||"copy_to"==t.action?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}},e._l(e.filter_folders,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.raw_name}})}),1):e._e(),e._v(" "),"flag"==t.action?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}},e._l(e.flag_list,function(t,l){return a("el-option",{key:l,attrs:{label:t.text,value:t.id}},[a("i",{staticClass:"iconfont icon-iconflatcolor",class:t.classN}),e._v(" "),a("span",[e._v(e._s(t.text))])])}),1):e._e(),e._v(" "),"tag"==t.action?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_RE_ADD_PLACEHODER},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}},e._l(e.taglist,function(t,l){return a("el-option",{key:l,attrs:{label:t.name,value:t.tagname}},[a("i",{staticStyle:{display:"inline-block",width:"15px",height:"15px"},style:{background:t.color}}),e._v(" "),a("span",[e._v(e._s(t.name))])])}),1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},["forward"==t.action?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.plang.SETTING_FW_FORWARD_DESC},model:{value:t.json_value.value,callback:function(a){e.$set(t.json_value,"value",a)},expression:"a.json_value.value"}}):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:e.plang.SETTING_FILTER_PRIORITY_RULE},model:{value:t.sequence,callback:function(a){e.$set(t,"sequence",a)},expression:"a.sequence"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[0==l?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.addAction(l)}}}):e._e(),e._v(" "),l>0?a("el-button",{attrs:{icon:"el-icon-delete",type:"warning"},on:{click:function(t){return e.deleteAction(l)}}}):e._e()],1)],1)})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.updateFormVisible=!1}}},[e._v(e._s(e.plang.COMMON_BUTTON_CANCELL))]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.updateFormLoading},nativeOn:{click:function(t){return e.updateFormSubmit()}}},[e._v(e._s(e.plang.COMMON_BUTTON_SUBMIT))])],1)],1)],1)],1)},staticRenderFns:[]};var o=function(e){a("u4L2")},i=a("C7Lr")(l.a,n,!1,o,null,null);t.default=i.exports},u4L2:function(e,t){}});