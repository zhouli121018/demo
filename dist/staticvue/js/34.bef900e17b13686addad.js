webpackJsonp([34],{"N/R4":function(r,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=s("aA9S"),o=s.n(t),a=s("L/O1"),i=s("P9l9"),n={data:function(){var r=this,e=this;e.lan=e.$parent.lan;return{passeordForm_password_input:"",passeordForm_new_password_input:"",passeordForm_confirm_password_input:"",passeordFormLoading:!1,passwordRules:{passwd_type:2,passwd_size2:8,passwd_digital:!1,passwd_name:!1,passwd_name2:!1,passwd_letter:!1,passwd_letter2:!1},password_error:"",new_password_error:"",confirm_password_error:"",passeordForm:{password:"",new_password:"",confirm_password:""},passeordFormRules:{password:[{required:!0,message:this.$parent.lan.COMMON_SRC_PASSWORD_RULE,trigger:["blur","change"]},{min:1,message:this.$parent.lan.COMMON_SRC_PASSWORD_RULE_LEN,trigger:["blur","change"]}],new_password:[{validator:function(r,s,t){if(""!==s){if(s.length>16||s.length<e.passwordRules.passwd_size2)return t(new Error(e.lan.COMMON_PASSWORD_NOTICE_1+e.passwordRules.passwd_size2+e.lan.COMMON_PASSWORD_NOTICE_2));if(2==e.passwordRules.passwd_type){if(!/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$)^.{1,16}$/.test(s))return t(new Error(e.lan.COMMON_PASSWORD_NOTICE_3))}else if(3==e.passwordRules.passwd_type){if(!/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W_!@#$%^&*`~()-+=.]+$)(?![a-z0-9]+$)(?![a-z\W_!@#$%^&*`~()-+=.]+$)(?![0-9\W_!@#$%^&*`~()-+=.]+$)[a-zA-Z0-9\W_!@#$%^&*`~()-+=.]{1,16}$/.test(s))return t(new Error(e.lan.COMMON_PASSWORD_NOTICE_4))}else if(4==e.passwordRules.passwd_type&&!/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d)(?=.*?[_!@#$%^&*`~()-+=.])[a-zA-Z\d_!@#$%^&*`~()-+=.]*$/.test(s))return t(new Error(e.lan.COMMON_PASSWORD_NOTICE_5));if(e.passwordRules.passwd_digital){for(var o="0123456789",a=[],i=1;i<o.length-1;i++)a.push(o.slice(i-1,i+2));for(var n=1;n<"9876543210".length-1;n++)a.push("9876543210".slice(n-1,n+2));if(new RegExp(a.join("|")).test(s))return t(new Error(e.lan.COMMON_PASSWORD_NOTICE_6))}if(e.passwordRules.passwd_letter){for(var _="abcdefghijklmnopqrstuvwxyz",c=[],l=1;l<_.length-1;l++)c.push(_.slice(l-1,l+2));for(var u="zyxwvutsrqponmlkjihgfedcba",p=1;p<u.length-1;p++)c.push(u.slice(p-1,p+2));if(new RegExp(c.join("|")).test(s.toLowerCase()))return t(new Error(e.lan.COMMON_PASSWORD_NOTICE_9))}return e.passwordRules.passwd_letter2&&/(\w)*(\w)\2{2}(\w)*/.test(s.toLowerCase())?t(new Error(e.lan.COMMON_PASSWORD_NOTICE_10)):t()}t(new Error(e.lan.LAYOUT_INDEX_PASSWORD_RULE))},trigger:["blur","change"]}],confirm_password:[{validator:function(s,t,o){""===t?o(new Error(e.lan.LAYOUT_INDEX_PASSWORD_RULE)):t!==r.passeordForm.new_password?o(new Error(e.lan.LAYOUT_INDEX_TWO_INCONSISTENT_PASSWORDS)):o()},trigger:["blur","change"]}]},securityFormLoading:!1,security_question1_error:"",security_custom1_error:"",security_answer1_error:"",security_question2_error:"",security_custom2_error:"",security_answer2_error:"",security_question3_error:"",security_custom3_error:"",security_answer3_error:"",securityForm:{security_question1:"",security_custom1:"",security_answer1:"",security_question2:"",security_custom2:"",security_answer2:"",security_question3:"",security_custom3:"",security_answer3:""},securityFormRules:{},security_questions:[{value:"1",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD1},{value:"2",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD2},{value:"3",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD3},{value:"4",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD4},{value:"5",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD5},{value:"6",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD6},{value:"7",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD7},{value:"8",label:this.$parent.lan.CONMON_PASSWORD_SECURITY_QD8},{value:"custom",label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QS}]}},mounted:function(){this.getPassword(),this.getSecurity()},methods:{getPassword:function(){var r=this;Object(i._194)().then(function(e){r.passwordRules=e.data})},getSecurity:function(){var r=this;Object(i._193)().then(function(e){r.securityForm=e.data.results})},passeordFormSubmit:function(){var r=this;this.password_error="",this.new_password_error="",this.confirm_password_error="",this.$refs.passeordForm.validate(function(e){if(e){r.passeordFormLoading=!0;var s=o()({},r.passeordForm);s.password=r.$get_enc_pwd(s.password),s.new_password=r.$get_enc_pwd(s.new_password),s.confirm_password=r.$get_enc_pwd(s.confirm_password),Object(i._198)(s).then(function(e){a.a.setCookie("token",e.data.token,7),r.$refs.passeordForm.resetFields(),r.passeordFormLoading=!1,r.$alert(r.$parent.lan.CHANGE_PASSWORD,r.$parent.lan.MAILBOX_COM_READ_SYSTEM_NOTICE,{confirmButtonText:r.$parent.lan.COMMON_BUTTON_CONFIRM,callback:function(e){a.a.delCookie("token"),a.a.delCookie("name"),r.$store.dispatch("setInfo"),r.$router.push("/login")}})}).catch(function(e){r.passeordFormLoading=!1,"password"in e&&(r.password_error=e.password[0]),"new_password"in e&&(r.new_password_error=e.new_password[0]),"confirm_password"in e&&(r.confirm_password_error=e.confirm_password[0])})}})},securityFormSubmit:function(){var r=this;this.security_question1_error="",this.security_custom1_error="",this.security_answer1_error="",this.security_question2_error="",this.security_custom2_error="",this.security_answer2_error="",this.security_question3_error="",this.security_custom3_error="",this.security_answer3_error="",this.$refs.securityForm.validate(function(e){if(e){r.securityFormLoading=!0;var s=o()({},r.securityForm);Object(i._197)(s).then(function(e){r.securityFormLoading=!1,r.$message({message:r.$parent.lan.COMMON_ALTER_SUCCESS,type:"success"})},function(e){r.securityFormLoading=!1,"security_question1"in e&&(r.security_question1_error=e.security_question1[0]),"security_custom1"in e&&(r.security_custom1_error=e.security_custom1[0]),"security_answer1"in e&&(r.security_answer1_error=e.security_answer1[0]),"security_question2"in e&&(r.security_question2_error=e.security_question2[0]),"security_custom2"in e&&(r.security_custom2_error=e.security_custom2[0]),"security_answer2"in e&&(r.security_answer2_error=e.security_answer2[0]),"security_question3"in e&&(r.security_question3_error=e.security_question3[0]),"security_custom3"in e&&(r.security_custom3_error=e.security_custom3[0]),"security_answer3"in e&&(r.security_answer3_error=e.security_answer3[0])}).catch(function(e){r.securityFormLoading=!1})}})}},computed:{check_passwd_size2:function(){var r=this.passeordForm.new_password;return""!==r&&!(r.length>16||r.length<this.passwordRules.passwd_size2)},check_passwd_type_2:function(){var r=this.passeordForm.new_password;if(""===r)return!1;return!!/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$)^.{1,16}$/.test(r)},check_passwd_type_3:function(){var r=this.passeordForm.new_password;if(""===r)return!1;return!!/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W_!@#$%^&*`~()-+=.]+$)(?![a-z0-9]+$)(?![a-z\W_!@#$%^&*`~()-+=.]+$)(?![0-9\W_!@#$%^&*`~()-+=.]+$)[a-zA-Z0-9\W_!@#$%^&*`~()-+=.]{1,16}$/.test(r)},check_passwd_type_4:function(){var r=this.passeordForm.new_password;if(""===r)return!1;return!!/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d)(?=.*?[_!@#$%^&*`~()-+=.])[a-zA-Z\d_!@#$%^&*`~()-+=.]*$/.test(r)},check_passwd_digital:function(){var r=this.passeordForm.new_password;if(""===r)return!1;for(var e="0123456789",s=[],t=1;t<e.length-1;t++)s.push(e.slice(t-1,t+2));for(var o=1;o<"9876543210".length-1;o++)s.push("9876543210".slice(o-1,o+2));return!new RegExp(s.join("|")).test(r)},check_passwd_letter:function(){var r=this.passeordForm.new_password;if(""===r)return!1;for(var e="abcdefghijklmnopqrstuvwxyz",s=[],t=1;t<e.length-1;t++)s.push(e.slice(t-1,t+2));for(var o="zyxwvutsrqponmlkjihgfedcba",a=1;a<o.length-1;a++)s.push(o.slice(a-1,a+2));return!new RegExp(s.join("|")).test(r.toLowerCase())},check_passwd_letter2:function(){var r=this.passeordForm.new_password;if(""===r)return!1;return!/(\w)*(\w)\2{2}(\w)*/.test(r.toLowerCase())}}},_={render:function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",{staticClass:"j-module-content j-maillist mllist-list height100 "},[s("el-row",{staticStyle:{padding:"0px"}},[s("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[r._v(r._s(this.$parent.lan.COMMON_HOME_NAME))]),r._v(" "),s("el-breadcrumb-item",[s("a",{attrs:{href:"#"}},[r._v(r._s(this.$parent.lan.SETTING_INDEX_NAME))])]),r._v(" "),s("el-breadcrumb-item",[r._v(r._s(this.$parent.lan.SETTING_INDEX_PASSWORD_MENU))])],1)],1)],1),r._v(" "),s("section",{staticClass:"content content-list height100",staticStyle:{"padding-bottom":"13px"}},[s("el-form",{ref:"passeordForm",staticStyle:{"margin-left":"13px","margin-right":"13px","margin-top":"13px"},attrs:{model:r.passeordForm,"label-width":"180px",rules:r.passeordFormRules,size:"mini"}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"demo-block-control"},[s("p",{staticStyle:{"margin-bottom":"3px","margin-left":"13px"}},[r._v(r._s(this.$parent.lan.SETTING_INDEX_PASSWORD_MENU))])])]),r._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.COMMON_SRC_PASSWORD,prop:"password",error:r.password_error}},[s("el-input",{attrs:{type:"text"},nativeOn:{keyup:function(e){return r.$trans_pwd("passeordForm_password_input","passeordForm.password")}},model:{value:r.passeordForm_password_input,callback:function(e){r.passeordForm_password_input="string"==typeof e?e.trim():e},expression:"passeordForm_password_input"}}),r._v(" "),s("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"hidden"},model:{value:r.passeordForm.password,callback:function(e){r.$set(r.passeordForm,"password","string"==typeof e?e.trim():e)},expression:"passeordForm.password"}})],1)],1),r._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.COMMON_NEW_PASSWORD,prop:"new_password",error:r.new_password_error}},[s("el-input",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"text"},nativeOn:{keyup:function(e){return r.$trans_pwd("passeordForm_new_password_input","passeordForm.new_password")}},model:{value:r.passeordForm_new_password_input,callback:function(e){r.passeordForm_new_password_input="string"==typeof e?e.trim():e},expression:"passeordForm_new_password_input"}}),r._v(" "),s("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"hidden"},model:{value:r.passeordForm.new_password,callback:function(e){r.$set(r.passeordForm,"new_password","string"==typeof e?e.trim():e)},expression:"passeordForm.new_password"}})],1)],1),r._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.COMMON_CONFIRM_PASSWORD,prop:"confirm_password",error:r.confirm_password_error}},[s("el-input",{attrs:{type:"text"},nativeOn:{keyup:function(e){return r.$trans_pwd("passeordForm_confirm_password_input","passeordForm.confirm_password")}},model:{value:r.passeordForm_confirm_password_input,callback:function(e){r.passeordForm_confirm_password_input="string"==typeof e?e.trim():e},expression:"passeordForm_confirm_password_input"}}),r._v(" "),s("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"hidden"},model:{value:r.passeordForm.confirm_password,callback:function(e){r.$set(r.passeordForm,"confirm_password","string"==typeof e?e.trim():e)},expression:"passeordForm.confirm_password"}})],1)],1)],1),r._v(" "),r._e(),r._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{staticStyle:{"margin-top":"13px"}},[s("el-button",{attrs:{type:"primary",loading:r.passeordFormLoading},nativeOn:{click:function(e){return r.passeordFormSubmit()}}},[r._v(r._s(this.$parent.lan.COMMON_BUTTON_ALTER))])],1)],1)],1)],1),r._v(" "),s("el-form",{ref:"securityForm",staticStyle:{"margin-left":"13px","margin-right":"13px","margin-top":"13px"},attrs:{model:r.securityForm,"label-width":"100px",rules:r.securityFormRules,size:"mini"}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"demo-block-control"},[s("p",{staticStyle:{"margin-bottom":"3px","margin-left":"13px"}},[r._v(r._s(this.$parent.lan.SETTING_PASSWORD_SECURITY_TITLE))])])])],1),r._v(" "),s("el-row",[s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_Q1,prop:"security_question1",error:r.security_question1_error}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:this.$parent.lan.SETTING_PASSWORD_SECURITY_QP},model:{value:r.securityForm.security_question1,callback:function(e){r.$set(r.securityForm,"security_question1",e)},expression:"securityForm.security_question1"}},r._l(r.security_questions,function(r){return s("el-option",{key:r.value,attrs:{label:r.label,value:r.value}})}),1)],1)],1),s("br"),r._v(" "),"custom"==r.securityForm.security_question1?s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QS,prop:"security_custom1",error:r.security_custom1_error}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:r.securityForm.security_custom1,callback:function(e){r.$set(r.securityForm,"security_custom1","string"==typeof e?e.trim():e)},expression:"securityForm.security_custom1"}})],1)],1):r._e(),s("br"),r._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QA,prop:"security_answer1",error:r.security_answer1_error}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:r.securityForm.security_answer1,callback:function(e){r.$set(r.securityForm,"security_answer1","string"==typeof e?e.trim():e)},expression:"securityForm.security_answer1"}})],1)],1),s("br")],1),r._v(" "),s("el-row",[s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_Q2,prop:"security_question2",error:r.security_question2_error}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:this.$parent.lan.SETTING_PASSWORD_SECURITY_QP},model:{value:r.securityForm.security_question2,callback:function(e){r.$set(r.securityForm,"security_question2",e)},expression:"securityForm.security_question2"}},r._l(r.security_questions,function(r){return s("el-option",{key:r.value,attrs:{label:r.label,value:r.value}})}),1)],1)],1),s("br"),r._v(" "),"custom"==r.securityForm.security_question2?s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QS,prop:"security_custom2",error:r.security_custom2_error}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:r.securityForm.security_custom2,callback:function(e){r.$set(r.securityForm,"security_custom2","string"==typeof e?e.trim():e)},expression:"securityForm.security_custom2"}})],1)],1):r._e(),s("br"),r._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QA,prop:"security_answer2",error:r.security_answer2_error}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:r.securityForm.security_answer2,callback:function(e){r.$set(r.securityForm,"security_answer2","string"==typeof e?e.trim():e)},expression:"securityForm.security_answer2"}})],1)],1),s("br")],1),r._v(" "),s("el-row",[s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_Q3,prop:"security_question3",error:r.security_question3_error}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:this.$parent.lan.SETTING_PASSWORD_SECURITY_QP},model:{value:r.securityForm.security_question3,callback:function(e){r.$set(r.securityForm,"security_question3",e)},expression:"securityForm.security_question3"}},r._l(r.security_questions,function(r){return s("el-option",{key:r.value,attrs:{label:r.label,value:r.value}})}),1)],1)],1),s("br"),r._v(" "),"custom"==r.securityForm.security_question3?s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QS,prop:"security_custom3",error:r.security_custom3_error}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:r.securityForm.security_custom3,callback:function(e){r.$set(r.securityForm,"security_custom3","string"==typeof e?e.trim():e)},expression:"securityForm.security_custom3"}})],1)],1):r._e(),s("br"),r._v(" "),s("el-col",{attrs:{span:16}},[s("el-form-item",{attrs:{label:this.$parent.lan.SETTING_PASSWORD_SECURITY_QA,prop:"security_answer3",error:r.security_answer3_error}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:r.securityForm.security_answer3,callback:function(e){r.$set(r.securityForm,"security_answer3","string"==typeof e?e.trim():e)},expression:"securityForm.security_answer3"}})],1)],1),s("br")],1),r._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",[s("el-button",{attrs:{type:"primary",loading:r.securityFormLoading},nativeOn:{click:function(e){return r.securityFormSubmit()}}},[r._v(r._s(this.$parent.lan.COMMON_BUTTON_ALTER))])],1)],1)],1)],1),r._v(" "),s("el-popover",{ref:"popover",attrs:{placement:"right",width:"300",trigger:"focus"}},[s("div",[s("ul",{staticStyle:{"font-size":"12px"}},[s("li",{style:{color:r.check_passwd_size2?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_size2?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_1)+r._s(r.passwordRules.passwd_size2)+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_2)+"\n            ")]),r._v(" "),2==r.passwordRules.passwd_type?s("li",{style:{color:r.check_passwd_type_2?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_type_2?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_3)+"\n            ")]):r._e(),r._v(" "),3==r.passwordRules.passwd_type?s("li",{style:{color:r.check_passwd_type_3?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_type_3?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_4)+"\n            ")]):r._e(),r._v(" "),4==r.passwordRules.passwd_type?s("li",{style:{color:r.check_passwd_type_4?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_type_4?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_5)+"\n            ")]):r._e(),r._v(" "),r.passwordRules.passwd_digital?s("li",{style:{color:r.check_passwd_digital?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_digital?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_6)+"\n            ")]):r._e(),r._v(" "),r.passwordRules.passwd_letter?s("li",{style:{color:r.check_passwd_letter?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_letter?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_9)+"\n            ")]):r._e(),r._v(" "),r.passwordRules.passwd_letter2?s("li",{style:{color:r.check_passwd_letter2?"#67C23A":"#F56C6C"}},[s("i",{class:r.check_passwd_letter2?"el-icon-success":"el-icon-error"}),r._v("\n              "+r._s(this.$parent.lan.COMMON_PASSWORD_NOTICE_10)+"\n            ")]):r._e()])])])],1)],1)},staticRenderFns:[]},c=s("C7Lr")(n,_,!1,null,null,null);e.default=c.exports}});