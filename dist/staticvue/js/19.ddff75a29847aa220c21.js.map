{"version":3,"sources":["webpack:///src/views/setting/page/relatelist.vue","webpack:///./src/views/setting/page/relatelist.vue?964d","webpack:///./src/views/setting/page/relatelist.vue"],"names":["emailReg","relatelist","data","_self","this","plang","$parent","lan","fileloading","deptOptions","totalCount","pageSize","currentPage","searchMailbox","oab_cid","showChoice","contactList","contactData","selectedMailbox","hashMailbox","addmailbox","selectedMails","addType","total","page","page_size","listLoading","sels","listTables","email_error","createFormVisible","createFormLoading","createForm","emails","access","createFormRules","required","message","SETTING_WHITE_EMAIL_RULE1","trigger","validator","rule","value","callback","test","Error","SETTING_WHITE_EMAIL_RULE2","disabled","SETTING_RE_ADD_PLACEHODER","mounted","getTables","getContactList","searchOabMembers","methods","changeFile","file","filelist","splice","length","submitFile","$refs","uploadFile","submit","checkModel","_this2","Object","api","then","response","blob","Blob","type","headers","objUrl","URL","createObjectURL","window","navigator","msSaveOrOpenBlob","msSaveBlob","link","document","createElement","setAttribute","body","appendChild","click","$message","COMMON_DOWNLOAD_SUCCESS","err","console","log","deleteAll","addMailbox","push","$alert","deleteMailbox","k","menu_change","arr","v","getDeptOptions","_this3","res","results","idToValue","i","id","children","rowClick","row","e","col","contactTable","toggleRowSelection","handleSizeChange","val","handleCurrentChange","_this4","param","search","dept_id","count","handleSelectionChange","username","_this5","_this","formData","FormData","append","clearFiles","COMMON_IMPORT_SUCCESS","catch","_this6","group_id","suc","f_TableSelsChange","f_TableSizeChange","f_TableCurrentChange","_this7","createFormShow","assign_default","createFormSubmit","_this8","validate","valid","para","COMMON_ADD_SUCCESS","resetFields","non_field_errors","error","deleteRow","index","_this9","that","$confirm","COMMON_BUTTON_DELETE_SUBMIT","COMMON_BUTTON_CONFIRM_NOTICE","COMMON_DELETE_SUCCESS","computed","page_relatelist","render","_vm","_h","$createElement","_c","staticClass","staticStyle","padding","attrs","span","separator","to","path","_v","_s","COMMON_HOME_NAME","href","SETTING_INDEX_NAME","SETTING_INDEX_REFER_MENU","background-color","background","padding-bottom","size","on","COMMON_BUTTON_ADD","text-align","line-height","display","layout","page-sizes","current-page","page-size","size-change","current-change","_e","Math","ceil","width","max-width","highlight-current-row","empty-text","COMMON_NODATA","border","selection-change","prop","label","USERNAME","SETTING_REFER_EMAIL","COMMON_PERMISSION","COMMON_OPRATE","scopedSlots","_u","key","fn","scope","$event","$index","COMMON_BUTTON_DELETE","title","visible","close-on-click-modal","append-to-body","update:visible","ref","model","label-width","rules","element-loading-text","SETTING_REFER_IMPORT_LOADING","element-loading-spinner","SETTING_REFER_MODE","$$v","expression","SETTING_REFER_MODE1","SETTING_REFER_MODE2","$set","SETTING_REFER_PERM1","SETTING_REFER_PERM2","SETTING_REFER_PERM3","SETTING_REFER_PERM4","directives","name","rawName","COMMON_EMAIL","min-height","margin-bottom","max-height","overflow","_l","icon","plain","placeholder","SETTING_REFERE_EMAIL_DESC2","SETTING_REFERE_EMAIL_DESC3","ADDRBOOK_HIDE","ADDRBOOK_SHOW","SETTING_REFERE_EMAIL_SELECT","change-on-select","options","SETTING_RE_ADD_SELECTDPT_PLACE","change","offset","SETTING_RE_ADD_CONTENT_RULE","COMMON_SEARCH2","tooltip-effect","header-cell-style","row-click","SETTING_REFERE_EMAIL_NAME","COMMON_DEPARTMENT","department","small","action","http-request","auto-upload","on-change","accept","slot","SETTING_REFERE_FILE","plan","SETTING_REFERE_TEMPLATE","nativeOn","COMMON_CLOSE","loading","COMMON_BUTTON_SUBMIT","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"staticvue/js/19.ddff75a29847aa220c21.js","sourcesContent":["<template>\n  <div class=\"j-module-content j-maillist mllist-list height100 \">\n    <el-row class=\"\" style=\"padding: 0px;\">\n      <el-col :span=\"24\" class=\"breadcrumb-container\">\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item :to=\"{ path: '/welcome' }\">{{plang.COMMON_HOME_NAME}}</el-breadcrumb-item>\n          <el-breadcrumb-item><a href=\"#\">{{plang.SETTING_INDEX_NAME}}</a></el-breadcrumb-item>\n          <el-breadcrumb-item>{{plang.SETTING_INDEX_REFER_MENU}}</el-breadcrumb-item>\n        </el-breadcrumb>\n      </el-col>\n    </el-row>\n    <section class=\"content content-list height100\" style=\"background-color: #fff;background: rgba(255,255,255,0.9);padding-bottom: 13px;\">\n      <el-row class=\"toolbar\">\n        <el-col :span=\"12\">\n          <el-button type=\"primary\" @click=\"createFormShow\" size=\"mini\">{{plang.COMMON_BUTTON_ADD}}</el-button>\n        </el-col>\n        <el-col :span=\"12\" v-if=\"total>0\" style=\"text-align: right;line-height:28px;\">\n          <el-pagination layout=\"total, sizes, prev \"\n                         @size-change=\"f_TableSizeChange\"\n                         @current-change=\"f_TableCurrentChange\"\n                         :page-sizes=\"[10, 20, 50, 100]\"\n                         :current-page=\"page\"\n                         :page-size=\"page_size\"\n                         v-if=\"total>0\"\n                         :total=\"total\" style=\"display:inline-block\">\n          </el-pagination>\n          <span>{{this.page+' / '+Math.ceil(this.total/this.page_size)}}</span>\n          <el-pagination layout=\" next, jumper\"\n                         @size-change=\"f_TableSizeChange\"\n                         @current-change=\"f_TableCurrentChange\"\n                         :page-sizes=\"[10, 20, 50, 100]\"\n                         :current-page=\"page\"\n                         :page-size=\"page_size\"\n                         v-if=\"total>0\"\n                         :total=\"total\" style=\"display:inline-block\">\n          </el-pagination>\n        </el-col>\n      </el-row>\n      <el-table :data=\"listTables\" highlight-current-row  width=\"100%\" @selection-change=\"f_TableSelsChange\" style=\"width: 100%;max-width:100%;\" size=\"mini\" :empty-text=\"plang.COMMON_NODATA\" border>\n        <el-table-column type=\"selection\" width=\"60\"></el-table-column>\n        <el-table-column prop=\"realname\" :label=\"plang.USERNAME\"></el-table-column>\n        <el-table-column prop=\"username\" :label=\"plang.SETTING_REFER_EMAIL\"></el-table-column>\n        <el-table-column prop=\"access_display\" :label=\"plang.COMMON_PERMISSION\"></el-table-column>\n        <el-table-column :label=\"plang.COMMON_OPRATE\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"danger\" size=\"mini\" @click=\"deleteRow(scope.$index, scope.row)\">{{plang.COMMON_BUTTON_DELETE}}</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-col :span=\"24\" class=\"toolbar\"></el-col>\n      <!--新增 签名-->\n      <el-dialog :title=\"plang.COMMON_BUTTON_ADD\"  :visible.sync=\"createFormVisible\"  :close-on-click-modal=\"false\" :append-to-body=\"true\" class=\"add_share_mail\" width=\"60%\">\n        <el-form :model=\"createForm\" label-width=\"100px\" :rules=\"createFormRules\" ref=\"createForm\" size=\"small\"\n                 :element-loading-text=\"plang.SETTING_REFER_IMPORT_LOADING\"\n                 element-loading-spinner=\"el-icon-loading\">\n          <el-form-item :label=\"plang.SETTING_REFER_MODE\" >\n            <el-radio-group v-model=\"addType\">\n              <el-radio :label=\"0\">{{plang.SETTING_REFER_MODE1}}</el-radio>\n              <el-radio :label=\"2\">{{plang.SETTING_REFER_MODE2}}</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item :label=\"plang.COMMON_PERMISSION\">\n            <el-radio-group v-model=\"createForm.access\">\n              <el-radio label=\"read\">{{plang.SETTING_REFER_PERM1}}</el-radio>\n              <el-radio label=\"edit\">{{plang.SETTING_REFER_PERM2}}</el-radio>\n              <el-radio label=\"send\">{{plang.SETTING_REFER_PERM3}}</el-radio>\n              <el-radio label=\"all\">{{plang.SETTING_REFER_PERM4}}</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item v-show=\"addType == '0'\" :label=\"plang.COMMON_EMAIL\">\n            <div style=\"min-height:80px;border:1px solid #dcdfe6;max-width:460px;padding:4px 10px;margin-bottom:4px;max-height:400px;overflow:auto;\">\n              <el-row v-for=\"(v,k) in selectedMailbox\" :key=\"k\">\n                <el-col :span=\"18\">\n                  <div>{{v}}</div>\n                </el-col>\n                <el-col :span=\"6\" style=\"text-align:right;\"><el-button icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteMailbox(k)\" type=\"warning\" plain></el-button></el-col>\n              </el-row>\n            </div>\n            <el-input type=\"textarea\" v-if=\"false\" autosize v-model=\"selectedMailbox\" :placeholder=\"plang.SETTING_REFERE_EMAIL_DESC1\"></el-input>\n            <el-input :placeholder=\"plang.SETTING_REFERE_EMAIL_DESC2\" v-model=\"addmailbox\" style=\"width:auto;\" type=\"email\"></el-input><el-button @click=\"addMailbox\">{{plang.COMMON_BUTTON_ADD}}</el-button>\n            <el-button @click=\"deleteAll\" type=\"danger\" plain>{{plang.SETTING_REFERE_EMAIL_DESC3}}</el-button>\n            <el-button @click=\"showChoice=!showChoice\">{{showChoice?plang.ADDRBOOK_HIDE:plang.ADDRBOOK_SHOW}}</el-button>\n\n          </el-form-item>\n          <el-form-item v-show=\"addType == '0'&&showChoice\" :label=\"plang.SETTING_REFERE_EMAIL_SELECT\">\n            <el-row style=\"margin-bottom:6px;\">\n              <el-col :span=\"16\">\n                <el-cascader  change-on-select style=\"width:100%\"\n                              :options=\"deptOptions\" @change=\"menu_change\" :placeholder=\"plang.SETTING_RE_ADD_SELECTDPT_PLACE\">\n                </el-cascader>\n              </el-col>\n              <el-col :span=\"5\" :offset=\"1\">\n                <el-input v-model=\"searchMailbox\" size=\"small\" :placeholder=\"plang.SETTING_RE_ADD_CONTENT_RULE\"></el-input>\n              </el-col>\n              <el-col :span=\"2\" style=\"text-align:right\">\n                <el-button size=\"small\" type=\"primary\" @click=\"searchOabMembers(1)\">{{plang.COMMON_SEARCH2}}</el-button>\n              </el-col>\n            </el-row>\n            <el-table\n              :data=\"contactData\"\n              tooltip-effect=\"dark\"\n              style=\"width: 100%\" border\n              @selection-change=\"handleSelectionChange\" @row-click=\"rowClick\" ref=\"contactTable\" :header-cell-style=\"{background:'#f0f1f3'}\">\n              <el-table-column\n                type=\"selection\"\n                width=\"55\">\n              </el-table-column>\n              <el-table-column prop=\"name\" :label=\"plang.SETTING_REFERE_EMAIL_NAME\">\n                <template slot-scope=\"scope\">\n                  <span>{{ scope.row.name +'<' +scope.row.username +'>'}}</span>\n                </template>\n              </el-table-column>\n              <el-table-column  :label=\"plang.COMMON_DEPARTMENT\">\n                <template slot-scope=\"scope\">\n                  <span>{{scope.row.department}}</span>\n                </template>\n              </el-table-column>\n            </el-table>\n            <div style=\"line-height:28px;\" v-if=\"totalCount>0\">\n              <el-pagination style=\"display:inline-block\"\n                @size-change=\"handleSizeChange\" small\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"currentPage\"\n                :page-sizes=\"[5,10, 20,50,100,200, 300, 400]\"\n                :page-size=\"pageSize\"\n                layout=\"total, sizes, prev \"\n                v-if=\"totalCount>0\"\n                :total=\"totalCount\">\n              </el-pagination>\n              <span>{{this.currentPage+' / '+Math.ceil(this.totalCount/this.pageSize)}}</span>\n              <el-pagination style=\"display:inline-block\"\n                @size-change=\"handleSizeChange\" small\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"currentPage\"\n                :page-sizes=\"[5,10, 20,50,100,200, 300, 400]\"\n                :page-size=\"pageSize\"\n                layout=\" next, jumper\"\n                v-if=\"totalCount>0\"\n                :total=\"totalCount\">\n              </el-pagination>\n            </div>\n\n          </el-form-item>\n          <el-form-item v-show=\"addType == '2'\" :label=\"plang.SETTING_RE_ADD_PLACEHODER\">\n            <el-col :span=\"12\">\n              <el-upload\n                action=\"\"\n                ref=\"uploadFile\"\n                :http-request=\"uploadFile\"\n                style=\"display:inline-block\"\n                :auto-upload=\"false\"\n                :on-change=\"changeFile\"\n                accept=\".csv,.xls,.xlsx\">\n                <el-button slot=\"trigger\" size=\"small\" type=\"primary\"><i class=\"el-icon-upload\"></i>{{plang.SETTING_REFERE_FILE}}</el-button>\n                <div slot=\"tip\" class=\"el-upload__tip\"></div>\n              </el-upload>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-button plan size=\"small\" @click=\"checkModel\">{{plang.SETTING_REFERE_TEMPLATE}}</el-button>\n            </el-col>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click.native=\"createFormVisible = false\">{{plang.COMMON_CLOSE}}</el-button>\n          <el-button v-if=\"addType == '0'\" type=\"primary\" @click.native=\"createFormSubmit()\" :loading=\"createFormLoading\">{{plang.COMMON_BUTTON_SUBMIT}}</el-button>\n          <el-button v-if=\"addType == '2'\" type=\"primary\" @click.native=\"submitFile\" :loading=\"fileloading\">{{plang.COMMON_BUTTON_SUBMIT}}</el-button>\n        </div>\n      </el-dialog>\n    </section>\n  </div>\n</template>\n<script>\n  import axios from 'axios';\n  import {settingRelateGet, settingRelateCreate, settingRelateDelete, settingRelateGetSingle,contactPabGroupsGet,contactOabDepartsGet,\n    contactPabMembersGet,contactOabMembersGet,settingRelateImport,settingRelateTutorial} from '@/api/api'\n  const emailReg = /^(\\w|[-+=.])+@\\w+([-.]\\w+)*\\.(\\w+)$/;\n\n  export default {\n    data() {\n      let _self = this;\n      var isEmail = function(rule,value,callback){\n        if(/^(\\w|[-+=.])+@\\w+([-.]\\w+)*\\.(\\w+)$/.test(value) == true){\n          callback();\n        }else{\n          callback(new Error(_self.$parent.lan.SETTING_WHITE_EMAIL_RULE2));\n        }\n      };\n      return {\n        plang:_self.$parent.lan,\n        fileloading:false,\n        deptOptions:[],\n        totalCount:0,\n        pageSize:10,\n        currentPage:1,\n        searchMailbox:'',\n        oab_cid:0,\n        showChoice:false,\n        contactList:[\n        ],\n        contactData:[\n        ],\n        selectedMailbox:[],\n        hashMailbox:[],\n        addmailbox:'',\n        selectedMails:[],\n        addType: 0,\n        total: 0,\n        page: 1,\n        page_size: 10,\n        listLoading: false,\n        sels: [],//列表选中列\n        listTables: [],\n\n        email_error: '',\n        createFormVisible: false,\n        createFormLoading: false,\n        createForm: {emails: '', access: 'read'},\n        createFormRules: {\n          emails: [\n            { required: true, message: _self.$parent.lan.SETTING_WHITE_EMAIL_RULE1, trigger: 'blur' },\n            {validator: isEmail, trigger: 'blur'}\n          ],\n          disabled: [{ required: true, message: _self.$parent.lan.SETTING_RE_ADD_PLACEHODER, trigger: 'blur' }],\n        },\n\n      }\n    },\n    mounted: function () {\n      this.getTables();\n      this.getContactList();\n      this.searchOabMembers(1);\n    },\n    methods: {\n      changeFile(file,filelist){\n        filelist.splice(0,filelist.length-1)\n      },\n      submitFile(){\n        this.$refs.uploadFile.submit();\n      },\n      checkModel(){\n        settingRelateTutorial().then(response=>{\n          let blob = new Blob([response.data], { type: response.headers[\"content-type\"] })\n          let objUrl = URL.createObjectURL(blob);\n          let filename = 'excel_share.xls';\n          if (window.navigator.msSaveOrOpenBlob) {\n            // if browser is IE\n            navigator.msSaveBlob(blob, filename);//filename文件名包括扩展名，下载路径为浏览器默认路径\n          } else {\n            // var encodedUri = encodeURI(csvContent);//encodeURI识别转义符\n            let link = document.createElement(\"a\");\n            link.setAttribute(\"href\", objUrl);\n            link.setAttribute(\"download\", filename);\n            document.body.appendChild(link);\n            link.click();\n          }\n          this.$message({ message: this.plang.COMMON_DOWNLOAD_SUCCESS, type: 'success' });\n        },err=>{\n          console.log(err);\n        })\n      },\n      deleteAll(){\n        this.selectedMailbox = [];\n        this.hashMailbox = [];\n      },\n      addMailbox(){\n        if(this.addmailbox){\n          if(emailReg.test(this.addmailbox)){\n            if(!this.hashMailbox[this.addmailbox]){\n              this.selectedMailbox.push(this.addmailbox);\n              this.hashMailbox[this.addmailbox] = true;\n              this.addmailbox = '';\n            }\n          }else{\n            this.$alert(this.plang.SETTING_WHITE_EMAIL_RULE2)\n          }\n        }\n      },\n      deleteMailbox(k){\n        this.hashMailbox[this.selectedMailbox[k]] = false;\n        this.selectedMailbox.splice(k,1)\n      },\n      menu_change(arr){\n        let v = arr[arr.length-1];\n        this.oab_cid = v;\n        this.searchOabMembers(1);\n      },\n      getDeptOptions(){\n        contactOabDepartsGet().then(res=>{\n          function idToValue(arr){\n            for(let i=0;i<arr.length;i++){\n              arr[i].value = arr[i].id;\n              if(arr[i].children && arr[i].children.length==0){\n                arr[i].children = null;\n              }\n              if(arr[i].children && arr[i].children.length>0){\n                idToValue(arr[i].children)\n              }\n            }\n            return arr;\n          }\n\n          this.deptOptions = res.data.results;\n          this.deptOptions = idToValue(this.deptOptions);\n        },err=>{\n          console.log(err);\n        })\n      },\n      rowClick(row,e,col){\n        this.$refs.contactTable.toggleRowSelection(row)\n      },\n      handleSizeChange(val) {\n        this.pageSize = val;\n        this.searchOabMembers(1);\n      },\n      handleCurrentChange(val) {\n        this.currentPage = val;\n        this.searchOabMembers(val);\n      },\n      // 查询部门成员\n      searchOabMembers(page) {\n        this.currentPage = page;\n        var param = {\n          \"page\": this.currentPage,\n          \"page_size\": this.pageSize,\n          \"search\": this.searchMailbox,\n          \"dept_id\": this.oab_cid,\n        };\n        contactOabMembersGet(param).then((res) => {\n          this.totalCount = res.data.count;\n          this.contactData = res.data.results;\n        });\n      },\n      handleSelectionChange(v){\n        for(let i=0;i<v.length;i++){\n          if(!this.hashMailbox[v[i].username]){\n            this.selectedMailbox.push(v[i].username)\n            this.hashMailbox[v[i].username] = true;\n          }\n        }\n      },\n      uploadFile(param){\n        this.fileloading = true;\n        let _this = this;\n        let file = param.file;\n        let formData=new FormData();\n        formData.append('file', file)\n        formData.append('access',this.createForm.access)\n        settingRelateImport(formData).then(res=>{\n          this.$refs.uploadFile.clearFiles();\n          _this.fileloading = false;\n          this.createFormVisible = false;\n          _this.$message({message: this.plang.COMMON_IMPORT_SUCCESS, type: 'success'});\n        }).catch((err)=>{\n          _this.fileloading = false;\n        })\n\n      },\n      getContactList(){\n        let _this = this;\n        let param = {\n          \"group_id\":0,\n          \"page_size\":10000,\n          \"page\":1\n        }\n        contactPabMembersGet(param).then((suc)=>{\n          this.contactList = suc.data.results;\n        },(err)=>{\n          console.log(err);\n        })\n      },\n      f_TableSelsChange: function (sels) {\n        this.sels = sels;\n      },\n      // 每页数目改变\n      f_TableSizeChange(val) {\n        this.page_size = val;\n        this.getTables();\n      },\n      // 翻页改变\n      f_TableCurrentChange(val) {\n        this.page = val;\n        this.getTables();\n      },\n      getTables: function(){\n        this.listLoading = true;\n        var param = {\n          \"page\": this.page,\n          \"page_size\": this.page_size,\n        };\n        settingRelateGet(param).then(res=>{\n          this.total = res.data.count;\n          this.listTables = res.data.results;\n          this.listLoading = false;\n        });\n      },\n\n      createFormShow: function () {\n        this.createForm = Object.assign({}, this.createForm);\n        this.createFormLoading = false;\n        this.createFormVisible = true;\n        this.getDeptOptions();\n      },\n      createFormSubmit: function(){\n        this.email_error='';\n        this.$refs.createForm.validate((valid) => {\n          if (valid) {\n            this.createFormLoading = true;\n            this.createForm.emails = this.selectedMailbox;\n            let para = Object.assign({}, this.createForm);\n            settingRelateCreate(para)\n            .then((res) => {\n              this.$message({message: this.plang.COMMON_ADD_SUCCESS, type: 'success'});\n              this.$refs['createForm'].resetFields();\n              this.createFormVisible = false;\n              this.createFormLoading = false;\n              this.getTables();\n            }, (data)=>{\n              if ( \"non_field_errors\" in data ){\n                this.email_error = data.non_field_errors[0];\n                this.createFormLoading = false;\n              }\n            })\n            .catch( (error)=> {\n              console.log(error);\n              this.createFormLoading = false;\n            });\n          }\n        });\n      },\n      deleteRow: function (index, row) {\n        let that = this;\n        this.$confirm(this.plang.COMMON_BUTTON_DELETE_SUBMIT, this.plang.COMMON_BUTTON_CONFIRM_NOTICE, {\n          type: 'warning'\n        }).then(() => {\n          settingRelateDelete(row.id)\n            .then((response)=> {\n              that.$message({ message: this.plang.COMMON_DELETE_SUCCESS, type: 'success' });\n              if((this.page-1)*this.page_size >= (this.total-1)){\n                this.page = 1;\n              }\n              this.getTables();\n            })\n            .catch( (err)=> {\n              console.log(err)\n            });\n        });\n      },\n\n    },\n    computed:{\n\n    }\n  }\n</script>\n<style>\n  .add_share_mail .el-radio__label{\n    padding-left:0;\n  }\n  .add_share_mail .el-radio__input{\n    width:20px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/setting/page/relatelist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"j-module-content j-maillist mllist-list height100 \"},[_c('el-row',{staticStyle:{\"padding\":\"0px\"}},[_c('el-col',{staticClass:\"breadcrumb-container\",attrs:{\"span\":24}},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/welcome' }}},[_vm._v(_vm._s(_vm.plang.COMMON_HOME_NAME))]),_vm._v(\" \"),_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.plang.SETTING_INDEX_NAME))])]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.plang.SETTING_INDEX_REFER_MENU))])],1)],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"content content-list height100\",staticStyle:{\"background-color\":\"#fff\",\"background\":\"rgba(255,255,255,0.9)\",\"padding-bottom\":\"13px\"}},[_c('el-row',{staticClass:\"toolbar\"},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.createFormShow}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_ADD))])],1),_vm._v(\" \"),(_vm.total>0)?_c('el-col',{staticStyle:{\"text-align\":\"right\",\"line-height\":\"28px\"},attrs:{\"span\":12}},[(_vm.total>0)?_c('el-pagination',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"layout\":\"total, sizes, prev \",\"page-sizes\":[10, 20, 50, 100],\"current-page\":_vm.page,\"page-size\":_vm.page_size,\"total\":_vm.total},on:{\"size-change\":_vm.f_TableSizeChange,\"current-change\":_vm.f_TableCurrentChange}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(this.page+' / '+Math.ceil(this.total/this.page_size)))]),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"layout\":\" next, jumper\",\"page-sizes\":[10, 20, 50, 100],\"current-page\":_vm.page,\"page-size\":_vm.page_size,\"total\":_vm.total},on:{\"size-change\":_vm.f_TableSizeChange,\"current-change\":_vm.f_TableCurrentChange}}):_vm._e()],1):_vm._e()],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"max-width\":\"100%\"},attrs:{\"data\":_vm.listTables,\"highlight-current-row\":\"\",\"width\":\"100%\",\"size\":\"mini\",\"empty-text\":_vm.plang.COMMON_NODATA,\"border\":\"\"},on:{\"selection-change\":_vm.f_TableSelsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"realname\",\"label\":_vm.plang.USERNAME}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":_vm.plang.SETTING_REFER_EMAIL}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"access_display\",\"label\":_vm.plang.COMMON_PERMISSION}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.COMMON_OPRATE},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.deleteRow(scope.$index, scope.row)}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_DELETE))])]}}])})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"add_share_mail\",attrs:{\"title\":_vm.plang.COMMON_BUTTON_ADD,\"visible\":_vm.createFormVisible,\"close-on-click-modal\":false,\"append-to-body\":true,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.createFormVisible=$event}}},[_c('el-form',{ref:\"createForm\",attrs:{\"model\":_vm.createForm,\"label-width\":\"100px\",\"rules\":_vm.createFormRules,\"size\":\"small\",\"element-loading-text\":_vm.plang.SETTING_REFER_IMPORT_LOADING,\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-form-item',{attrs:{\"label\":_vm.plang.SETTING_REFER_MODE}},[_c('el-radio-group',{model:{value:(_vm.addType),callback:function ($$v) {_vm.addType=$$v},expression:\"addType\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(_vm._s(_vm.plang.SETTING_REFER_MODE1))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(_vm._s(_vm.plang.SETTING_REFER_MODE2))])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.plang.COMMON_PERMISSION}},[_c('el-radio-group',{model:{value:(_vm.createForm.access),callback:function ($$v) {_vm.$set(_vm.createForm, \"access\", $$v)},expression:\"createForm.access\"}},[_c('el-radio',{attrs:{\"label\":\"read\"}},[_vm._v(_vm._s(_vm.plang.SETTING_REFER_PERM1))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"edit\"}},[_vm._v(_vm._s(_vm.plang.SETTING_REFER_PERM2))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"send\"}},[_vm._v(_vm._s(_vm.plang.SETTING_REFER_PERM3))]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"all\"}},[_vm._v(_vm._s(_vm.plang.SETTING_REFER_PERM4))])],1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addType == '0'),expression:\"addType == '0'\"}],attrs:{\"label\":_vm.plang.COMMON_EMAIL}},[_c('div',{staticStyle:{\"min-height\":\"80px\",\"border\":\"1px solid #dcdfe6\",\"max-width\":\"460px\",\"padding\":\"4px 10px\",\"margin-bottom\":\"4px\",\"max-height\":\"400px\",\"overflow\":\"auto\"}},_vm._l((_vm.selectedMailbox),function(v,k){return _c('el-row',{key:k},[_c('el-col',{attrs:{\"span\":18}},[_c('div',[_vm._v(_vm._s(v))])]),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":6}},[_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.deleteMailbox(k)}}})],1)],1)}),1),_vm._v(\" \"),(false)?_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":_vm.plang.SETTING_REFERE_EMAIL_DESC1},model:{value:(_vm.selectedMailbox),callback:function ($$v) {_vm.selectedMailbox=$$v},expression:\"selectedMailbox\"}}):_vm._e(),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"auto\"},attrs:{\"placeholder\":_vm.plang.SETTING_REFERE_EMAIL_DESC2,\"type\":\"email\"},model:{value:(_vm.addmailbox),callback:function ($$v) {_vm.addmailbox=$$v},expression:\"addmailbox\"}}),_c('el-button',{on:{\"click\":_vm.addMailbox}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_ADD))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.deleteAll}},[_vm._v(_vm._s(_vm.plang.SETTING_REFERE_EMAIL_DESC3))]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.showChoice=!_vm.showChoice}}},[_vm._v(_vm._s(_vm.showChoice?_vm.plang.ADDRBOOK_HIDE:_vm.plang.ADDRBOOK_SHOW))])],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addType == '0'&&_vm.showChoice),expression:\"addType == '0'&&showChoice\"}],attrs:{\"label\":_vm.plang.SETTING_REFERE_EMAIL_SELECT}},[_c('el-row',{staticStyle:{\"margin-bottom\":\"6px\"}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"change-on-select\":\"\",\"options\":_vm.deptOptions,\"placeholder\":_vm.plang.SETTING_RE_ADD_SELECTDPT_PLACE},on:{\"change\":_vm.menu_change}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5,\"offset\":1}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":_vm.plang.SETTING_RE_ADD_CONTENT_RULE},model:{value:(_vm.searchMailbox),callback:function ($$v) {_vm.searchMailbox=$$v},expression:\"searchMailbox\"}})],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":2}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.searchOabMembers(1)}}},[_vm._v(_vm._s(_vm.plang.COMMON_SEARCH2))])],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"contactTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.contactData,\"tooltip-effect\":\"dark\",\"border\":\"\",\"header-cell-style\":{background:'#f0f1f3'}},on:{\"selection-change\":_vm.handleSelectionChange,\"row-click\":_vm.rowClick}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.plang.SETTING_REFERE_EMAIL_NAME},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.name +'<' +scope.row.username +'>'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.COMMON_DEPARTMENT},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.department))])]}}])})],1),_vm._v(\" \"),(_vm.totalCount>0)?_c('div',{staticStyle:{\"line-height\":\"28px\"}},[(_vm.totalCount>0)?_c('el-pagination',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"small\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[5,10, 20,50,100,200, 300, 400],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev \",\"total\":_vm.totalCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(this.currentPage+' / '+Math.ceil(this.totalCount/this.pageSize)))]),_vm._v(\" \"),(_vm.totalCount>0)?_c('el-pagination',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"small\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[5,10, 20,50,100,200, 300, 400],\"page-size\":_vm.pageSize,\"layout\":\" next, jumper\",\"total\":_vm.totalCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addType == '2'),expression:\"addType == '2'\"}],attrs:{\"label\":_vm.plang.SETTING_RE_ADD_PLACEHODER}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-upload',{ref:\"uploadFile\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"action\":\"\",\"http-request\":_vm.uploadFile,\"auto-upload\":false,\"on-change\":_vm.changeFile,\"accept\":\".csv,.xls,.xlsx\"}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(_vm._s(_vm.plang.SETTING_REFERE_FILE))]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"plan\":\"\",\"size\":\"small\"},on:{\"click\":_vm.checkModel}},[_vm._v(_vm._s(_vm.plang.SETTING_REFERE_TEMPLATE))])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.createFormVisible = false}}},[_vm._v(_vm._s(_vm.plang.COMMON_CLOSE))]),_vm._v(\" \"),(_vm.addType == '0')?_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.createFormLoading},nativeOn:{\"click\":function($event){_vm.createFormSubmit()}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_SUBMIT))]):_vm._e(),_vm._v(\" \"),(_vm.addType == '2')?_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.fileloading},nativeOn:{\"click\":function($event){return _vm.submitFile($event)}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_SUBMIT))]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-209608d4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/setting/page/relatelist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-209608d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./relatelist.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./relatelist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./relatelist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-209608d4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./relatelist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/setting/page/relatelist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}