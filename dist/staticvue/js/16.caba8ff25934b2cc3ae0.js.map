{"version":3,"sources":["webpack:///src/views/file/afile.vue","webpack:///./src/views/file/afile.vue?b14e","webpack:///./src/views/file/afile.vue"],"names":["afile","data","folder_capacity","sels","total","page","page_size","listLoading","listTables","filters","search","blobUrl","folder_id_error","folder_fullpath","moveFormVisible","moveFormLoading","moveFormRules","to_folder_id","required","message","trigger","moveForm","folder_id","save_list","computed","plang","lang","lan","zh","this","$store","getters","getLanguage","zh_tw","en","FILE_A_RULE","validateLeft_zh","timestamp","shijiancha","days","daysRound","Math","floor","hours","hoursRound","minutes","minutesRound","str","validateLeft_zh_tw","validateLeft_en","created","getTables","methods","getCapacity","_this","Object","api","then","res","capacity","f_TableSelsChange","f_TableSizeChange","val","f_TableCurrentChange","_this2","param","limit","offset","count","results","i","length","o","index","filename","lastIndexOf","slice","toUpperCase","catch","deleteFiles","_this3","that","ids","map","item","id","$confirm","FILE_A_MSG1","COMMON_BUTTON_CONFIRM_NOTICE","type","para","response","$message","COMMON_DELETE_SUCCESS","err","console","log","deleteRowFiles","row","_this4","FILE_A_MSG2","renewalRowFile","_this5","FILE_A_MSG3","download","$refs","click","zipRowDownload","_this6","blob","Blob","headers","objUrl","URL","createObjectURL","window","navigator","msSaveOrOpenBlob","msSaveBlob","link","document","createElement","setAttribute","body","appendChild","COMMON_EXPORT_SUCCESS","zipDownload","_this7","moveFormShow","_this8","form","assign_default","moveFormShow2","_this9","moveFormSubmit","_this10","validate","valid","resetFields","COMMON_SUBMIT_SUCCESS","non_field_errors","file_afile","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","staticStyle","background-color","background","padding","attrs","inline","model","text-align","margin-bottom","plain","size","icon","disabled","on","_v","_s","FILE_P_DOWNLOAD","$event","$parent","sendMail_net","FILE_P_SEND","FILE_A_TOP","COMMON_BUTTON_DELETE","placeholder","FILE_A_SEARCH","tyle","callback","$$v","$set","trim","slot","ref","display","href","span","FILE_INDEX_A","font-size","color","margin-left","FILE_P_CAP","width","percentage","used","margin-top","line-height","current-page","page-sizes","page-size","layout","size-change","current-change","_e","ceil","max-width","height","tooltip-effect","header-cell-style","selection-change","label","COMMON_NAME","scopedSlots","_u","key","fn","scope","padding-top","class","classObject","overflow","white-space","text-overflow","title","FILE_P_SEND2","FILE_A_XUQI","test","toLowerCase","preview","COMMON_BUTTON_PREVIEW","COMMON_SIZE","_f","FILE_P_TIME","replace","FILE_A_TIME","left_timestamp","COMMON_MAIL_SUBJECT","subject","visible","close-on-click-modal","append-to-body","update:visible","label-width","rules","FILE_A_PATH","prop","error","FILE_A_PATH_PLACE","_l","full_path","nativeOn","COMMON_BUTTON_CANCELL","loading","COMMON_BUTTON_SUBMIT","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"staticvue/js/16.caba8ff25934b2cc3ae0.js","sourcesContent":["<template>\n  <div class=\"j-module-content j-maillist mllist-list height100 \">\n\n    <section class=\"content content-list height100\" style=\"background-color: #fff;background:rgba(255,255,255,0.8)\" v-loading=\"listLoading\">\n      <el-form :inline=\"true\" :model=\"filters\" style=\"padding:4px 0 4px 4px;\">\n        <el-row>\n          <el-col style=\"text-align:left\">\n            <el-form-item style=\"margin-bottom: 0px!important;\">\n              <el-button plain size=\"small\" type=\"primary\" icon=\"el-icon-download\" :disabled=\"this.sels.length===0\"  @click=\"zipDownload\">{{plang.FILE_P_DOWNLOAD}}</el-button>\n              <el-button plain size=\"small\" type=\"primary\" icon=\"el-icon-message\" :disabled=\"this.sels.length===0\" @click=\"$parent.sendMail_net('more',sels)\">{{plang.FILE_P_SEND}}</el-button>\n              <el-button plain size=\"small\" type=\"primary\" :disabled=\"this.sels.length===0\" @click=\"moveFormShow\">{{plang.FILE_A_TOP}}</el-button>\n              <el-button plain size=\"small\" type=\"danger\" icon=\"el-icon-delete\" :disabled=\"this.sels.length===0\" @click=\"deleteFiles\">{{plang.COMMON_BUTTON_DELETE}}</el-button>\n            </el-form-item>\n\n            <el-form-item style=\"margin-bottom: 0px!important;\">\n              <el-input :placeholder=\"plang.FILE_A_SEARCH\" v-model.trim=\"filters.search\" size=\"small\" tyle=\"width:auto;\"><i slot=\"suffix\" class=\"el-input__icon el-icon-search\" v-on:click=\"getTables\"></i>\n              </el-input>\n            </el-form-item>\n            <a :href=\"blobUrl\" download=\"\" style=\"display:none;\" ref=\"download\"></a>\n          </el-col>\n          <el-col :span=\"12\">\n            <div style=\"padding:10px 0 10px 14px;\">\n              <b>{{plang.FILE_INDEX_A}}</b>\n              <span style=\"font-size:12px;color:#bbb;margin-left:20px;\"> {{plang.FILE_P_CAP}}</span>\n              <el-progress :percentage=\"folder_capacity.capacity\" style=\"width:200px;display: inline-block;\"></el-progress>\n              <span style=\"font-size:12px;color:#409eff;margin-left: -49px;\"> {{folder_capacity.used}} / {{folder_capacity.total}}</span>\n            </div>\n          </el-col>\n          <el-col :span=\"12\" style=\"text-align:right;margin-top: 6px;line-height:28px;\" v-if=\"total>0\">\n            <el-pagination :current-page=\"page\" :page-sizes=\"[10, 20, 50]\" :page-size=\"page_size\" :total=\"total\" v-if=\"total>0\"\n                           @size-change=\"f_TableSizeChange\" @current-change=\"f_TableCurrentChange\" layout=\"total, sizes, prev\" style=\"display: inline-block\">\n            </el-pagination>\n            <span>{{this.page+' / '+Math.ceil(this.total/this.page_size)}}</span>\n            <el-pagination :current-page=\"page\" :page-sizes=\"[10, 20, 50]\" :page-size=\"page_size\" :total=\"total\" v-if=\"total>0\"\n                           @size-change=\"f_TableSizeChange\" @current-change=\"f_TableCurrentChange\" layout=\" next,jumper\" style=\"display: inline-block\">\n            </el-pagination>\n          </el-col>\n        </el-row>\n      </el-form>\n\n      <el-row>\n        <el-table :data=\"listTables\" tooltip-effect=\"dark\" style=\"width: 100%;max-width:100%;height: 100%\" @selection-change=\"f_TableSelsChange\" :header-cell-style=\"{background:'#f0f1f3'}\" size=\"mini\">\n          <el-table-column type=\"selection\" width=\"55\">\n          </el-table-column>\n          <el-table-column :label=\"plang.COMMON_NAME\">\n            <template slot-scope=\"scope\">\n              <el-row >\n                <el-col :span=\"1\" style=\"width:42px;padding-top:8px;\">\n                  <span class=\"bico\" :class=\"scope.row.classObject\"></span>\n                </el-col>\n                <el-col :span=\"20\" style=\"font-size:16px;\">\n                  <div style=\"overflow: hidden;white-space: nowrap;text-overflow: ellipsis;\" :title=\"scope.row.filename\">{{scope.row.filename}}</div>\n                  <div class=\"actions_a\">\n                    <span @click=\"zipRowDownload(scope.row)\">{{plang.FILE_P_DOWNLOAD}}</span>\n                    <span @click=\"$parent.sendMail_net(scope.row)\">{{plang.FILE_P_SEND2}}</span>\n                    <span @click=\"moveFormShow2(scope.row)\">{{plang.FILE_A_TOP}}</span>\n                    <span @click=\"renewalRowFile(scope.row)\">{{plang.FILE_A_XUQI}}</span>\n                    <span @click=\"$parent.preview(scope.row,'mail')\" v-if=\"/.(gif|jpg|jpeg|png|bmp|svg|pdf|html|txt|xls|xlsx|doc|docx|ppt|pptx|xml|csv|md|log)$/.test(scope.row.filename.toLowerCase())\">{{plang.COMMON_BUTTON_PREVIEW}}</span>\n                    <span @click=\"deleteRowFiles(scope.row)\" style=\"color:#f56c6c;\">{{plang.COMMON_BUTTON_DELETE}}</span>\n                  </div>\n                </el-col>\n              </el-row>\n            </template>\n          </el-table-column>\n\n          <el-table-column :label=\"plang.COMMON_SIZE\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <span style=\"margin-left: 10px\">{{scope.row.size| mailsize}}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column :label=\"plang.FILE_P_TIME\" width=\"200\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\"></i>\n              <span style=\"margin-left: 10px\">{{scope.row.created.replace('T',' ')}}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column :label=\"plang.FILE_A_TIME\" width=\"220\">\n            <template slot-scope=\"scope\">\n              <span style=\"margin-left: 10px\" v-if=\"$store.getters.getLanguage=='zh-hans'\">{{scope.row.left_timestamp| validateLeft_zh}}</span>\n              <span style=\"margin-left: 10px\" v-if=\"$store.getters.getLanguage=='zh-tw'\">{{scope.row.left_timestamp| validateLeft_zh_tw}}</span>\n              <span style=\"margin-left: 10px\" v-if=\"$store.getters.getLanguage=='en'\">{{scope.row.left_timestamp| validateLeft_en}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column :label=\"plang.COMMON_MAIL_SUBJECT\" >\n            <template slot-scope=\"scope\" >\n              <div class=\"nowrap\" :title=\"scope.row.subject\">{{scope.row.subject}}</div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-row>\n\n      <el-dialog :title=\"plang.FILE_A_TOP\"  :visible.sync=\"moveFormVisible\"  :close-on-click-modal=\"false\" :append-to-body=\"true\">\n        <el-form :model=\"moveForm\" label-width=\"130px\" :rules=\"moveFormRules\" ref=\"moveForm\">\n\n          <el-form-item :label=\"plang.FILE_A_PATH\" prop=\"folder_id\" :error=\"folder_id_error\">\n            <el-select v-model=\"moveForm.folder_id\" :placeholder=\"plang.FILE_A_PATH_PLACE\" style=\"width: 100%\">\n              <el-option v-for=\"item in folder_fullpath\" :key=\"item.id\" :label=\"item.full_path\" :value=\"item.id\"></el-option>\n            </el-select>\n          </el-form-item>\n\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click.native=\"moveFormVisible = false\">{{plang.COMMON_BUTTON_CANCELL}}</el-button>\n          <el-button type=\"primary\" @click.native=\"moveFormSubmit()\" :loading=\"moveFormLoading\">{{plang.COMMON_BUTTON_SUBMIT}}</el-button>\n        </div>\n      </el-dialog>\n\n    </section>\n\n  </div>\n</template>\n\n<script>\n  import lan from '@/assets/js/lan';\n  import {downloadAttach2, getAttach, moveAttach2Netdisk, downloadZipAttach, netdiskPathGet, mailAttachDelete, RenewalAttach,netdiskCapacityGet } from '@/api/api'\n\n  export default {\n    data() {\n      let _self = this;\n      return {\n        folder_capacity: {},\n        sels: [],\n        total: 0,\n        page: 1,\n        page_size: 10,\n        listLoading: false,\n        listTables: [],\n        filters: {\n          search: ''\n        },\n\n        blobUrl: '',\n\n        folder_id_error: '',\n        folder_fullpath: [],\n        moveFormVisible: false,//编辑界面是否显示\n        moveFormLoading: false,\n        moveFormRules: {\n          to_folder_id: [\n            { required: true, message: '', trigger: 'blur' },\n          ]\n        },\n        moveForm:{ folder_id: -1, save_list: [] },\n\n      }\n    },\n    computed:{\n      plang(){\n        let lang = lan.zh\n        if(this.$store.getters.getLanguage=='zh-hans'){\n          lang = lan.zh\n        }else if(this.$store.getters.getLanguage=='zh-tw'){\n          lang = lan.zh_tw\n        }else if(this.$store.getters.getLanguage=='en'){\n          lang = lan.en\n        }else if(this.$store.getters.getLanguage=='es'){\n          lang = lan.zh\n        }else{\n          lang = lan.zh\n        }\n        this.moveFormRules = {\n          to_folder_id: [\n            { required: true, message: lang.FILE_A_RULE, trigger: 'blur' },\n          ]\n        }\n        return lang\n      },\n    },\n    filters: {\n      validateLeft_zh: function (timestamp) {\n        let shijiancha = timestamp*1000;\n        var days    = shijiancha / 1000 / 60 / 60 / 24;\n        var daysRound   = Math.floor(days);\n        var hours    = shijiancha/ 1000 / 60 / 60 - (24 * daysRound);\n        var hoursRound   = Math.floor(hours);\n        var minutes   = shijiancha / 1000 /60 - (24 * 60 * daysRound) - (60 * hoursRound);\n        var minutesRound  = Math.floor(minutes);\n        var seconds   = shijiancha/ 1000 - (24 * 60 * 60 * daysRound) - (60 * 60 * hoursRound) - (60 * minutesRound);\n        let str = '';\n        if(daysRound){\n          str += daysRound+ '天 '\n        }\n        if(hoursRound){\n          str += hoursRound+'时 '\n        }\n        if(minutesRound){\n          str += minutesRound+'分 '\n        }\n        if(!daysRound && !hoursRound){\n          return '即将过期'\n        }\n        if(daysRound>30 || (daysRound==30 && (hoursRound>0 ||minutesRound>0))){\n          return '永久'\n        }\n        return str;\n        return timestamp;\n        var day = timestamp/86400;\n        return day;\n\n        var date = new Date(inputTime);\n        var y = date.getFullYear();\n        var m = date.getMonth() + 1;\n        m = m < 10 ? ('0' + m) : m;\n        var d = date.getDate();\n        d = d < 10 ? ('0' + d) : d;\n        var h = date.getHours();\n        h = h < 10 ? ('0' + h) : h;\n        var minute = date.getMinutes();\n        var second = date.getSeconds();\n        minute = minute < 10 ? ('0' + minute) : minute;\n        second = second < 10 ? ('0' + second) : second;\n        return y + '-' + m + '-' + d + ' ' + '　' + h + ':' + minute + ':' + second;\n      },\n      validateLeft_zh_tw: function (timestamp) {\n        let shijiancha = timestamp*1000;\n        var days    = shijiancha / 1000 / 60 / 60 / 24;\n        var daysRound   = Math.floor(days);\n        var hours    = shijiancha/ 1000 / 60 / 60 - (24 * daysRound);\n        var hoursRound   = Math.floor(hours);\n        var minutes   = shijiancha / 1000 /60 - (24 * 60 * daysRound) - (60 * hoursRound);\n        var minutesRound  = Math.floor(minutes);\n        var seconds   = shijiancha/ 1000 - (24 * 60 * 60 * daysRound) - (60 * 60 * hoursRound) - (60 * minutesRound);\n        let str = '';\n        if(daysRound){\n          str += daysRound+ '天 '\n        }\n        if(hoursRound){\n          str += hoursRound+'时 '\n        }\n        if(minutesRound){\n          str += minutesRound+'分 '\n        }\n        if(!daysRound && !hoursRound){\n          return '即将过期'\n        }\n        if(daysRound>30 || (daysRound==30 && (hoursRound>0 ||minutesRound>0))){\n          return '永久'\n        }\n        return str;\n        return timestamp;\n        var day = timestamp/86400;\n        return day;\n\n        var date = new Date(inputTime);\n        var y = date.getFullYear();\n        var m = date.getMonth() + 1;\n        m = m < 10 ? ('0' + m) : m;\n        var d = date.getDate();\n        d = d < 10 ? ('0' + d) : d;\n        var h = date.getHours();\n        h = h < 10 ? ('0' + h) : h;\n        var minute = date.getMinutes();\n        var second = date.getSeconds();\n        minute = minute < 10 ? ('0' + minute) : minute;\n        second = second < 10 ? ('0' + second) : second;\n        return y + '-' + m + '-' + d + ' ' + '　' + h + ':' + minute + ':' + second;\n      },\n      validateLeft_en: function (timestamp) {\n        let shijiancha = timestamp*1000;\n        var days    = shijiancha / 1000 / 60 / 60 / 24;\n        var daysRound   = Math.floor(days);\n        var hours    = shijiancha/ 1000 / 60 / 60 - (24 * daysRound);\n        var hoursRound   = Math.floor(hours);\n        var minutes   = shijiancha / 1000 /60 - (24 * 60 * daysRound) - (60 * hoursRound);\n        var minutesRound  = Math.floor(minutes);\n        var seconds   = shijiancha/ 1000 - (24 * 60 * 60 * daysRound) - (60 * 60 * hoursRound) - (60 * minutesRound);\n        let str = '';\n        if(daysRound){\n          str += daysRound+ ' day(s) '\n        }\n        if(hoursRound){\n          str += hoursRound+' hour(s) '\n        }\n        if(minutesRound){\n          str += minutesRound+' minute(s) '\n        }\n        if(!daysRound && !hoursRound){\n          return 'will expired'\n        }\n        if(daysRound>30 || (daysRound==30 && (hoursRound>0 ||minutesRound>0))){\n          return 'forever'\n        }\n        return str;\n        return timestamp;\n        var day = timestamp/86400;\n        return day;\n\n        var date = new Date(inputTime);\n        var y = date.getFullYear();\n        var m = date.getMonth() + 1;\n        m = m < 10 ? ('0' + m) : m;\n        var d = date.getDate();\n        d = d < 10 ? ('0' + d) : d;\n        var h = date.getHours();\n        h = h < 10 ? ('0' + h) : h;\n        var minute = date.getMinutes();\n        var second = date.getSeconds();\n        minute = minute < 10 ? ('0' + minute) : minute;\n        second = second < 10 ? ('0' + second) : second;\n        return y + '-' + m + '-' + d + ' ' + '　' + h + ':' + minute + ':' + second;\n      },\n    },\n\n    created: function () {\n      this.getTables();\n    },\n\n    methods: {\n      getCapacity: function(){\n        netdiskCapacityGet().then(res=>{\n          if(res.data.capacity =='0%'){\n            res.data.capacity = 0\n          }\n          if(res.data.capacity > 100){\n            res.data.capacity = 100\n          }\n          if(res.data.capacity < 0){\n            res.data.capacity = 0\n          }\n          this.folder_capacity = res.data;\n        });\n      },\n      f_TableSelsChange: function (sels) {\n        this.sels = sels;\n      },\n      // 每页数目改变\n      f_TableSizeChange(val) {\n        this.page_size = val;\n        this.getTables();\n      },\n      // 翻页改变\n      f_TableCurrentChange(val) {\n        this.page = val;\n        this.getTables();\n      },\n      getTables: function(){\n        this.listLoading = true;\n        let param={\n          limit:this.page_size,\n          offset:(this.page-1)*this.page_size,\n          search: this.filters.search,\n        };\n        getAttach(param).then(res=>{\n          this.total = res.data.count;\n          this.listTables = res.data.results;\n          for(let i=0;i<this.listTables.length;i++){\n            let o = this.listTables[i];\n            let index = o.filename.lastIndexOf('.');\n            let str = 'bf'+o.filename.slice(index+1).toUpperCase();\n            o['classObject']={};\n            o['classObject'][str] = true;\n          }\n          this.listLoading = false;\n        }).catch(()=>{\n          this.listLoading = false;\n        });\n\n        this.getCapacity();\n      },\n      deleteFiles(){\n        let that = this;\n        var ids = this.sels.map(item => item.id);\n        this.$confirm(this.plang.FILE_A_MSG1, this.plang.COMMON_BUTTON_CONFIRM_NOTICE, {\n          type: 'warning'\n        }).then(() => {\n          this.listLoading = true;\n          let para = {ids: ids};\n          mailAttachDelete(para).then((response)=> {\n            this.listLoading = false;\n            that.$message({ message: this.plang.COMMON_DELETE_SUCCESS, type: 'success' });\n            if((this.page-1)*this.page_size >= (this.total-ids.length)){\n              this.page = 1;\n            }\n            this.getTables();\n          }).catch( (err) =>{\n            this.listLoading = false;\n            console.log(err)\n          });\n        }).catch(()=>{\n\n        });\n      },\n      deleteRowFiles(row){\n        let that = this;\n        this.$confirm(this.plang.FILE_A_MSG2, this.plang.COMMON_BUTTON_CONFIRM_NOTICE, {\n          type: 'warning'\n        }).then(() => {\n          this.listLoading = true;\n          let para = {ids: [row.id]};\n          mailAttachDelete(para).then((response)=> {\n            this.listLoading = false;\n            that.$message({ message: this.plang.COMMON_DELETE_SUCCESS, type: 'success' });\n            if((this.page-1)*this.page_size >= (this.total-1)){\n              this.page = 1;\n            }\n            this.getTables();\n          }).catch( (err)=> {\n            this.listLoading = false;\n            console.log(err)\n          });\n        }).catch(()=>{\n\n        });\n      },\n\n      renewalRowFile(row){\n        let that = this;\n        this.listLoading = true;\n        RenewalAttach(row.id).then((response)=> {\n          this.listLoading = false;\n          that.$message({ message: this.plang.FILE_A_MSG3, type: 'success' });\n          this.getTables();\n        }).catch( (err)=> {\n          this.listLoading = false;\n          console.log(err)\n          this.getTables();\n        });\n      },\n\n      //点击下载\n      download(){\n        this.$refs.download.click();\n      },\n      zipRowDownload: function (row) {\n        let that = this;\n        this.listLoading = true;\n        downloadAttach2(row.id, {download: true}).then((response)=> {\n          this.listLoading = false;\n          let blob = new Blob([response.data], { type: response.headers[\"content-type\"] })\n          let objUrl = URL.createObjectURL(blob);\n          this.blobUrl = objUrl;\n          // let filenameHeader = response.headers['content-disposition']\n          // let filename = filenameHeader.slice(filenameHeader.indexOf('=')+2,filenameHeader.length-1);\n          let filename = row.filename;\n          if (window.navigator.msSaveOrOpenBlob) {\n            // if browser is IE\n            navigator.msSaveBlob(blob, filename);//filename文件名包括扩展名，下载路径为浏览器默认路径\n          } else {\n            // var encodedUri = encodeURI(csvContent);//encodeURI识别转义符\n            var link = document.createElement(\"a\");\n            link.setAttribute(\"href\", objUrl);\n            link.setAttribute(\"download\", filename);\n            document.body.appendChild(link);\n            link.click();\n          }\n          that.$message({ message: this.plang.COMMON_EXPORT_SUCCESS, type: 'success' });\n          // this.getPabs();\n        }).catch( (err)=> {\n          this.listLoading = false;\n          console.log(err)\n        });\n      },\n      zipDownload: function(){\n        let that = this;\n        this.listLoading = true;\n        var ids = this.sels.map(item => item.id);\n        downloadZipAttach({ids: ids}).then((response)=> {\n          this.listLoading = false;\n          let blob = new Blob([response.data], { type: response.headers[\"content-type\"] })\n          let objUrl = URL.createObjectURL(blob);\n          this.blobUrl = objUrl;\n          // let filenameHeader = response.headers['content-disposition']\n          // let filename = filenameHeader.slice(filenameHeader.indexOf('=')+2,filenameHeader.length-1);\n          let filename = 'attachment.zip';\n          if (window.navigator.msSaveOrOpenBlob) {\n            // if browser is IE\n            navigator.msSaveBlob(blob, filename);//filename文件名包括扩展名，下载路径为浏览器默认路径\n          } else {\n            // var encodedUri = encodeURI(csvContent);//encodeURI识别转义符\n            var link = document.createElement(\"a\");\n            link.setAttribute(\"href\", objUrl);\n            link.setAttribute(\"download\", filename);\n            document.body.appendChild(link);\n            link.click();\n          }\n          that.$message({ message: this.plang.COMMON_EXPORT_SUCCESS, type: 'success' });\n          // this.getPabs();\n        }).catch( (err) =>{\n          this.listLoading = false;\n          console.log(err)\n        });\n      },\n\n      moveFormShow: function () {\n        this.folder_id_error = '';\n        netdiskPathGet().then(res=> {\n          this.folder_fullpath = res.data;\n          let form = this.moveForm;\n          form.save_list = this.sels.map(item => item.id);\n          this.moveForm = Object.assign({}, form);\n          this.moveFormVisible = true;\n          this.moveFormLoading = false;\n        });\n      },\n      moveFormShow2: function (row) {\n        this.folder_id_error = '';\n        netdiskPathGet().then(res=> {\n          this.folder_fullpath = res.data;\n          let form = this.moveForm;\n          form.save_list = [row.id];\n          this.moveForm = Object.assign({}, form);\n          this.moveFormVisible = true;\n          this.moveFormLoading = false;\n        });\n      },\n      moveFormSubmit: function(){\n        this.folder_id_error='';\n        this.$refs.moveForm.validate((valid) => {\n          if (valid) {\n            this.moveFormLoading = true;\n            let para = Object.assign({}, this.moveForm);\n            moveAttach2Netdisk(para)\n              .then((res) => {\n                this.$refs['moveForm'].resetFields();\n                this.moveFormLoading = false;\n                this.moveFormVisible = false;\n                this.$message({message: this.plang.COMMON_SUBMIT_SUCCESS, type: 'success'});\n                this.getTables();\n              })\n              .catch( (err)=> {\n                this.moveFormLoading = false;\n                if(\"non_field_errors\" in err) {\n                  this.folder_id_error = err.non_field_errors[0];\n                }\n                console.log(err)\n\n              });\n          }\n        });\n      },\n\n    },\n\n  }\n</script>\n<style>\n  .clickable{\n    color:#409EFF;\n    cursor:pointer;\n  }\n  .folder_type{\n    cursor:pointer;\n  }\n  .folder_type:hover{\n    cursor:pointer;\n    color:#409EFF;\n    font-weight: bold;\n  }\n  .bico{\n    display:inline-block;\n    width: 32px;\n    height: 32px;\n    background-image: url(../../assets/img/icons.png);\n    background-position: -672px -352px;\n  }\n  .actions_a>span{\n    color: #0479bc;\n    margin-right:10px;\n    cursor:pointer;\n    font-size:12px;\n  }\n  .el-progress__text{\n    display: none!important;\n  }\n  .nowrap{\n    overflow: hidden;\n    word-wrap: normal;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/file/afile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"j-module-content j-maillist mllist-list height100 \"},[_c('section',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticClass:\"content content-list height100\",staticStyle:{\"background-color\":\"#fff\",\"background\":\"rgba(255,255,255,0.8)\"}},[_c('el-form',{staticStyle:{\"padding\":\"4px 0 4px 4px\"},attrs:{\"inline\":true,\"model\":_vm.filters}},[_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"left\"}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0px!important\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-download\",\"disabled\":this.sels.length===0},on:{\"click\":_vm.zipDownload}},[_vm._v(_vm._s(_vm.plang.FILE_P_DOWNLOAD))]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-message\",\"disabled\":this.sels.length===0},on:{\"click\":function($event){_vm.$parent.sendMail_net('more',_vm.sels)}}},[_vm._v(_vm._s(_vm.plang.FILE_P_SEND))]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"primary\",\"disabled\":this.sels.length===0},on:{\"click\":_vm.moveFormShow}},[_vm._v(_vm._s(_vm.plang.FILE_A_TOP))]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"disabled\":this.sels.length===0},on:{\"click\":_vm.deleteFiles}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_DELETE))])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0px!important\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.plang.FILE_A_SEARCH,\"size\":\"small\",\"tyle\":\"width:auto;\"},model:{value:(_vm.filters.search),callback:function ($$v) {_vm.$set(_vm.filters, \"search\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"filters.search\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.getTables},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('a',{ref:\"download\",staticStyle:{\"display\":\"none\"},attrs:{\"href\":_vm.blobUrl,\"download\":\"\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticStyle:{\"padding\":\"10px 0 10px 14px\"}},[_c('b',[_vm._v(_vm._s(_vm.plang.FILE_INDEX_A))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#bbb\",\"margin-left\":\"20px\"}},[_vm._v(\" \"+_vm._s(_vm.plang.FILE_P_CAP))]),_vm._v(\" \"),_c('el-progress',{staticStyle:{\"width\":\"200px\",\"display\":\"inline-block\"},attrs:{\"percentage\":_vm.folder_capacity.capacity}}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#409eff\",\"margin-left\":\"-49px\"}},[_vm._v(\" \"+_vm._s(_vm.folder_capacity.used)+\" / \"+_vm._s(_vm.folder_capacity.total))])],1)]),_vm._v(\" \"),(_vm.total>0)?_c('el-col',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"6px\",\"line-height\":\"28px\"},attrs:{\"span\":12}},[(_vm.total>0)?_c('el-pagination',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"current-page\":_vm.page,\"page-sizes\":[10, 20, 50],\"page-size\":_vm.page_size,\"total\":_vm.total,\"layout\":\"total, sizes, prev\"},on:{\"size-change\":_vm.f_TableSizeChange,\"current-change\":_vm.f_TableCurrentChange}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(this.page+' / '+Math.ceil(this.total/this.page_size)))]),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"current-page\":_vm.page,\"page-sizes\":[10, 20, 50],\"page-size\":_vm.page_size,\"total\":_vm.total,\"layout\":\" next,jumper\"},on:{\"size-change\":_vm.f_TableSizeChange,\"current-change\":_vm.f_TableCurrentChange}}):_vm._e()],1):_vm._e()],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{staticStyle:{\"width\":\"100%\",\"max-width\":\"100%\",\"height\":\"100%\"},attrs:{\"data\":_vm.listTables,\"tooltip-effect\":\"dark\",\"header-cell-style\":{background:'#f0f1f3'},\"size\":\"mini\"},on:{\"selection-change\":_vm.f_TableSelsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.COMMON_NAME},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-row',[_c('el-col',{staticStyle:{\"width\":\"42px\",\"padding-top\":\"8px\"},attrs:{\"span\":1}},[_c('span',{staticClass:\"bico\",class:scope.row.classObject})]),_vm._v(\" \"),_c('el-col',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"span\":20}},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"nowrap\",\"text-overflow\":\"ellipsis\"},attrs:{\"title\":scope.row.filename}},[_vm._v(_vm._s(scope.row.filename))]),_vm._v(\" \"),_c('div',{staticClass:\"actions_a\"},[_c('span',{on:{\"click\":function($event){_vm.zipRowDownload(scope.row)}}},[_vm._v(_vm._s(_vm.plang.FILE_P_DOWNLOAD))]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.$parent.sendMail_net(scope.row)}}},[_vm._v(_vm._s(_vm.plang.FILE_P_SEND2))]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.moveFormShow2(scope.row)}}},[_vm._v(_vm._s(_vm.plang.FILE_A_TOP))]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.renewalRowFile(scope.row)}}},[_vm._v(_vm._s(_vm.plang.FILE_A_XUQI))]),_vm._v(\" \"),(/.(gif|jpg|jpeg|png|bmp|svg|pdf|html|txt|xls|xlsx|doc|docx|ppt|pptx|xml|csv|md|log)$/.test(scope.row.filename.toLowerCase()))?_c('span',{on:{\"click\":function($event){_vm.$parent.preview(scope.row,'mail')}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_PREVIEW))]):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#f56c6c\"},on:{\"click\":function($event){_vm.deleteRowFiles(scope.row)}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_DELETE))])])])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.COMMON_SIZE,\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"mailsize\")(scope.row.size)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.FILE_P_TIME,\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.created.replace('T',' ')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.FILE_A_TIME,\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.$store.getters.getLanguage=='zh-hans')?_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"validateLeft_zh\")(scope.row.left_timestamp)))]):_vm._e(),_vm._v(\" \"),(_vm.$store.getters.getLanguage=='zh-tw')?_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"validateLeft_zh_tw\")(scope.row.left_timestamp)))]):_vm._e(),_vm._v(\" \"),(_vm.$store.getters.getLanguage=='en')?_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"validateLeft_en\")(scope.row.left_timestamp)))]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.plang.COMMON_MAIL_SUBJECT},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"nowrap\",attrs:{\"title\":scope.row.subject}},[_vm._v(_vm._s(scope.row.subject))])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.plang.FILE_A_TOP,\"visible\":_vm.moveFormVisible,\"close-on-click-modal\":false,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.moveFormVisible=$event}}},[_c('el-form',{ref:\"moveForm\",attrs:{\"model\":_vm.moveForm,\"label-width\":\"130px\",\"rules\":_vm.moveFormRules}},[_c('el-form-item',{attrs:{\"label\":_vm.plang.FILE_A_PATH,\"prop\":\"folder_id\",\"error\":_vm.folder_id_error}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.plang.FILE_A_PATH_PLACE},model:{value:(_vm.moveForm.folder_id),callback:function ($$v) {_vm.$set(_vm.moveForm, \"folder_id\", $$v)},expression:\"moveForm.folder_id\"}},_vm._l((_vm.folder_fullpath),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.full_path,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.moveFormVisible = false}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_CANCELL))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.moveFormLoading},nativeOn:{\"click\":function($event){_vm.moveFormSubmit()}}},[_vm._v(_vm._s(_vm.plang.COMMON_BUTTON_SUBMIT))])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4f12bba0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/file/afile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f12bba0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./afile.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./afile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./afile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f12bba0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./afile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/file/afile.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}